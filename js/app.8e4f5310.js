(function(){"use strict";var e={9720:function(e,t,i){var s=i(9242),n=i(3396);const a=["src"];function o(e,t,s,o,r,c){const h=(0,n.up)("Loading"),l=(0,n.up)("Main");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("img",{class:"background",src:i(5768),style:{position:"absolute"}},null,8,a),o.isLoaded?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(h,{key:0})),(0,n.Wm)(l)],64)}var r=i(3781),c=i(7327),h=i(714),l=i(9614),d=i(8829),u=i(2575),Z=(i(7658),i(1114)),p=i(65),m=(0,p.MT)({state:{loadedPercent:0,initCompleted:!1},getters:{loadedPercent(e){return e.loadedPercent},initCompleted(e){return e.initCompleted}},mutations:{changeLoadedPercent(e,t){e.loadedPercent=t},changeInitCompleted(e,t){e.initCompleted=t}},actions:{setLoadedPercent(e,t){e.commit("changeLoadedPercent",t)},setInitCompleted(e,t){e.commit("changeInitCompleted",t)}}}),w=i(9469),v=i(4543),g=i(2519);class y{constructor(){this.subscribers={}}subscribe(e,t){this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push(t)}unsubscribe(e,t){this.subscribers[e]&&(this.subscribers[e]=this.subscribers[e].filter((e=>e!==t)))}publish(e,t){this.subscribers[e]&&this.subscribers[e].forEach((e=>e(t)))}}const A=new y;var b=i(4161);async function k(e){let t=null,i=JSON.stringify({voice:{languageCode:"ko-KR",ssmlGender:"FEMALE",name:"ko-KR-Wavenet-A"},input:{text:e},audioConfig:{audioEncoding:"mp3"}}),s={method:"post",maxBodyLength:1/0,url:"https://texttospeech.googleapis.com/v1/text:synthesize?key=AIzaSyCKiq248cQRH-p3lGwK0SgGOdKFKw7dt0Q",headers:{"Content-Type":"application/json"},data:i};return await b.Z.request(s).then((e=>{t=e})).catch((e=>{throw e})),t}async function f(e){let t=null;return await b.Z.get("https://port-0-ai-fairy-tale-book-7e6o2cli06bdq9.sel4.cloudtype.app/api/v1/title",{params:e,responseType:"json"}).then((e=>{t=e})).catch((e=>{throw e})),t}function M(e){let t=document.getElementById("pdfUpload");t.click();const i=function(){if(t.files.length>0){let s=t.files[0];e(),A.publish("beginScene3",s),t.value=null,t.removeEventListener("change",i)}};t.addEventListener("change",i)}var P=new WeakMap,_=new WeakMap,S=new WeakMap,B=new WeakMap,I=new WeakMap,W=new WeakMap,C=new WeakMap,L=new WeakMap,x=new WeakMap,T=new WeakMap,E=new WeakMap,O=new WeakMap,j=new WeakMap,R=new WeakMap,F=new WeakMap;class D{constructor(e,t,i,s){(0,h.Z)(this,P,{writable:!0,value:void 0}),(0,h.Z)(this,_,{writable:!0,value:void 0}),(0,h.Z)(this,S,{writable:!0,value:void 0}),(0,h.Z)(this,B,{writable:!0,value:void 0}),(0,h.Z)(this,I,{writable:!0,value:void 0}),(0,h.Z)(this,W,{writable:!0,value:void 0}),(0,h.Z)(this,C,{writable:!0,value:void 0}),(0,h.Z)(this,L,{writable:!0,value:void 0}),(0,h.Z)(this,x,{writable:!0,value:void 0}),(0,h.Z)(this,T,{writable:!0,value:void 0}),(0,h.Z)(this,E,{writable:!0,value:void 0}),(0,h.Z)(this,O,{writable:!0,value:void 0}),(0,h.Z)(this,j,{writable:!0,value:void 0}),(0,h.Z)(this,R,{writable:!0,value:void 0}),(0,h.Z)(this,F,{writable:!0,value:void 0}),this.scene=e,(0,u.Z)(this,P,t),(0,u.Z)(this,_,i),(0,u.Z)(this,S,s),this.init()}init(){const e=document.getElementById("load"),t=new g.cp(e);(0,u.Z)(this,B,t),t.position.set(-.2,1,3),t.rotation.set(0,Math.PI/4,0),t.scale.set(.004,.004,.006);const i=document.getElementById("arrow-load"),s=new g.cp(i);(0,u.Z)(this,I,s),s.position.set(-.5,1.9,3.4),s.rotation.set(-Math.PI/3,Math.PI/3,0),s.scale.set(.01,.01,.01);const n=document.getElementById("start"),a=new g.cp(n);(0,u.Z)(this,W,a),a.position.set(.45,.8,.7),a.scale.set(.004,.004,.006),a.lookAt((0,d.Z)(this,P).position);const o=document.getElementById("arrow-start"),r=new g.cp(o);(0,u.Z)(this,C,r),r.position.set(.45,1.1,.7),r.rotation.set(0,0,-Math.PI/2),r.scale.set(.008,.008,.008),(0,d.Z)(this,S).render(this.scene,(0,d.Z)(this,P));const c=document.getElementById("desk_frame_front");(0,u.Z)(this,L,c);const h=new g.cp(c);(0,u.Z)(this,x,h),h.position.set(.35,.45,1),h.scale.set(.13,.07,.1);const l=document.getElementById("desk_frame_top");(0,u.Z)(this,T,l);const Z=new g.cp(l);(0,u.Z)(this,E,Z),Z.position.set(.35,.6,.7),Z.rotation.set(Math.PI/2,0,0),Z.scale.set(.13,.06,.1);const p=document.getElementById("bookshelf_frame_front");(0,u.Z)(this,O,p);const m=new g.cp(p);(0,u.Z)(this,j,m),m.position.set(-.18,1,3),m.rotation.set(0,Math.PI/4,0),m.scale.set(.05,.15,.1);const w=document.getElementById("bookshelf_frame_side");(0,u.Z)(this,R,w);const v=new g.cp(w);(0,u.Z)(this,F,v),v.position.set(-.44,1,3),v.rotation.set(0,-Math.PI/4,0),v.scale.set(.03,.15,.1),this.setHoveringListener(),this.addScene();const y=.1,A=2e3;let b=Date.now();const k=()=>{requestAnimationFrame(k);const e=Date.now()-b,t=e%A/A,i=y*(1-Math.cos(2*t*Math.PI))/2;s.position.z=3.4-i,s.position.y=1.9-i,r.position.y=1.1-i,(0,d.Z)(this,S).render(this.scene,(0,d.Z)(this,P))};k()}animateCamera(e,t,i,s,n,a){const o=performance.now(),r=e.clone(),c=t.clone(),h=c.clone().sub(r),l=i.clone(),u=s.clone(),p=new Z._fP,m=e=>{const t=e-o,i=t/n;if(i<1){const e=a(i),t=r.clone().add(h.clone().multiplyScalar(e));p.slerpQuaternions(l,u,e),(0,d.Z)(this,P).position.copy(t),(0,d.Z)(this,P).setRotationFromQuaternion(p),(0,d.Z)(this,_).render(this.scene,(0,d.Z)(this,P)),requestAnimationFrame(m)}else(0,d.Z)(this,P).position.copy(c),(0,d.Z)(this,P).setRotationFromQuaternion(u),(0,d.Z)(this,_).render(this.scene,(0,d.Z)(this,P))};requestAnimationFrame(m)}easeInOutQuad(e){return e<.5?2*e*e:(4-2*e)*e-1}addScene(){this.scene.add((0,d.Z)(this,B)),this.scene.add((0,d.Z)(this,I)),this.scene.add((0,d.Z)(this,j)),this.scene.add((0,d.Z)(this,F)),this.scene.add((0,d.Z)(this,W)),this.scene.add((0,d.Z)(this,C)),this.scene.add((0,d.Z)(this,x)),this.scene.add((0,d.Z)(this,E))}removeScene(){this.scene.remove((0,d.Z)(this,B)),this.scene.remove((0,d.Z)(this,I)),this.scene.remove((0,d.Z)(this,j)),this.scene.remove((0,d.Z)(this,F)),this.scene.remove((0,d.Z)(this,W)),this.scene.remove((0,d.Z)(this,C)),this.scene.remove((0,d.Z)(this,x)),this.scene.remove((0,d.Z)(this,E))}setHoveringListener(){(0,d.Z)(this,O).addEventListener("mouseenter",(()=>{let e=(0,d.Z)(this,B).element.querySelector("#circle");e.className="circle"})),(0,d.Z)(this,O).addEventListener("mouseleave",(()=>{let e=(0,d.Z)(this,B).element.querySelector("#circle");e.className=""})),(0,d.Z)(this,R).addEventListener("mouseenter",(()=>{let e=(0,d.Z)(this,B).element.querySelector("#circle");e.className="circle"})),(0,d.Z)(this,R).addEventListener("mouseleave",(()=>{let e=(0,d.Z)(this,B).element.querySelector("#circle");e.className=""})),(0,d.Z)(this,L).addEventListener("mouseenter",(()=>{let e=(0,d.Z)(this,W).element.querySelector("#circle");e.className="circle"})),(0,d.Z)(this,L).addEventListener("mouseleave",(()=>{let e=(0,d.Z)(this,W).element.querySelector("#circle");e.className=""})),(0,d.Z)(this,T).addEventListener("mouseenter",(()=>{let e=(0,d.Z)(this,W).element.querySelector("#circle");e.className="circle"})),(0,d.Z)(this,T).addEventListener("mouseleave",(()=>{let e=(0,d.Z)(this,W).element.querySelector("#circle");e.className=""})),(0,d.Z)(this,L).addEventListener("click",(()=>{this.zoomCameraToLook(),A.publish("beginScene2")})),(0,d.Z)(this,T).addEventListener("click",(()=>{A.publish("beginScene2")})),(0,d.Z)(this,O).addEventListener("click",(()=>{M(this.removeScene.bind(this))})),(0,d.Z)(this,R).addEventListener("click",(()=>{const e=(0,d.Z)(this,P).position,t=new Z.Pa4(.443,1.103,.702),i=(new Z._fP).setFromEuler((0,d.Z)(this,P).rotation),s=(new Z._fP).setFromEuler(new Z.USm(-1.561,0,38e-5)),n=2e3;this.animateCamera(e,t,i,s,n,this.easeInOutQuad),A.publish("beginScene2")}))}zoomCameraToLook(){const e=(0,d.Z)(this,P).position,t=new Z.Pa4(.443,1.103,.702),i=(new Z._fP).setFromEuler((0,d.Z)(this,P).rotation),s=(new Z._fP).setFromEuler(new Z.USm(-1.561,0,38e-5)),n=2e3;this.animateCamera(e,t,i,s,n,this.easeInOutQuad)}}i(2801),i(3767),i(8585),i(8696);const N=(e,t)=>{const i=t.clipAction(e);i.setLoop(Z.jAl),i.clampWhenFinished=!0,i.enabled=!0,i.paused=!1,i.timeScale=1,i.reset(),i.play()},q=(e,t)=>{let i=t.clipAction(e);i.paused=!1,i.time=i.getClip().duration,i.timeScale=-1,i.setLoop(Z.jAl),i.clampWhenFinished=!0,i.enabled=!0,i.play()};var Q=i.p+"img/cover.d2a20614.jpg",z=i.p+"img/page.17d8165d.jpg",X=new WeakMap,U=new WeakMap,V=new WeakMap,G=new WeakMap,H=new WeakMap,K=new WeakMap,Y=new WeakMap,J=new WeakMap,$=new WeakMap,ee=new WeakMap,te=new WeakMap,ie=new WeakMap,se=new WeakMap,ne=new WeakMap;class ae{constructor(e,t,i,s,n){(0,c.Z)(this,"meshes",{}),(0,h.Z)(this,X,{writable:!0,value:0}),(0,h.Z)(this,U,{writable:!0,value:.01}),(0,h.Z)(this,V,{writable:!0,value:null}),(0,h.Z)(this,G,{writable:!0,value:null}),(0,h.Z)(this,H,{writable:!0,value:void 0}),(0,h.Z)(this,K,{writable:!0,value:void 0}),(0,h.Z)(this,Y,{writable:!0,value:void 0}),(0,h.Z)(this,J,{writable:!0,value:void 0}),(0,h.Z)(this,$,{writable:!0,value:void 0}),(0,h.Z)(this,ee,{writable:!0,value:void 0}),(0,h.Z)(this,te,{writable:!0,value:void 0}),(0,h.Z)(this,ie,{writable:!0,value:void 0}),(0,h.Z)(this,se,{writable:!0,value:void 0}),(0,h.Z)(this,ne,{writable:!0,value:void 0}),(0,u.Z)(this,H,e),(0,u.Z)(this,K,t),(0,u.Z)(this,Y,i),(0,u.Z)(this,$,s),(0,u.Z)(this,J,n),(0,u.Z)(this,V,new Audio)}async loadBook(){return new Promise((e=>{(0,d.Z)(this,$).load("book.glb",function(t){t.scene.traverse((function(e){if(e.isMesh)if(e.name.includes("P")){let t=null;t=(e.name.includes("back"),(new Z.dpR).load(z)),e.material.map=t,e.material.needsUpdate=!0}else{const t=(new Z.dpR).load(Q);e.material.map=t,e.material.needsUpdate=!0}}));const i=t.scene;i.traverse((e=>{e instanceof Z.Kj0&&(this.meshes[e.name]=e)}));const s=t.animations;(0,u.Z)(this,ee,s),s.forEach((e=>{(0,d.Z)(this,ee)[e.name]=e}));const n=.2;i.scale.set(n,n,n),i.position.set(.45,.8,.7),i.rotation.y-=Math.PI,i.name="book",(0,d.Z)(this,H).add(i),(0,u.Z)(this,te,new Z.Xcj(i));let a=()=>{requestAnimationFrame(a),(0,d.Z)(this,te).update((0,d.Z)(this,U))};a(),(0,u.Z)(this,ie,i),e(i)}.bind(this),null,(function(e){console.log("An error happened",e)}))}))}turnCover(){N((0,d.Z)(this,ee)[0],(0,d.Z)(this,te)),N((0,d.Z)(this,ee)[1],(0,d.Z)(this,te)),N((0,d.Z)(this,ee)[2],(0,d.Z)(this,te)),N((0,d.Z)(this,ee)[3],(0,d.Z)(this,te))}turnBackCover(){q((0,d.Z)(this,ee)[0],(0,d.Z)(this,te)),q((0,d.Z)(this,ee)[1],(0,d.Z)(this,te)),q((0,d.Z)(this,ee)[2],(0,d.Z)(this,te)),q((0,d.Z)(this,ee)[3],(0,d.Z)(this,te))}async createBookCover(e){await this.insertImg(this.meshes.coverL,e[0])}async clickCoverFront(e){var t;(0,u.Z)(this,X,0),this.turnCover(),await this.insertImg(this.meshes.Page1Front,e[(0,u.Z)(this,X,(t=(0,d.Z)(this,X),++t))],!0),this.createTtsBtnR()}async clickCoverBack(){this.deleteOverlayL(),this.turnBackCover()}async clickP1Front(e){var t,i;this.turnPageFirst(),await this.insertImg(this.meshes.Page1Back,e[(0,u.Z)(this,X,(t=(0,d.Z)(this,X),++t))]),await this.insertImg(this.meshes.Page2Front,e[(0,u.Z)(this,X,(i=(0,d.Z)(this,X),++i))],!0),this.createTtsBtnL(),this.createTtsBtnR()}async clickP2Front(e){var t,i;this.tunPageSecond(),await this.insertImg(this.meshes.Page2Back,e[(0,u.Z)(this,X,(t=(0,d.Z)(this,X),++t))]),await this.insertImg(this.meshes.Pages,e[(0,u.Z)(this,X,(i=(0,d.Z)(this,X),++i))],!0),this.createTtsBtnL(),this.createTtsBtnR()}async clickP3Front(e){var t,i;e.length<(0,d.Z)(this,X)+2||(await this.insertImg(this.meshes.Page1Back,e[(0,d.Z)(this,X)-1]),await this.insertImg(this.meshes.Page2Front,e[(0,d.Z)(this,X)],!0),this.tunPageSecond(),await this.insertImg(this.meshes.Page2Back,e[(0,u.Z)(this,X,(t=(0,d.Z)(this,X),++t))]),await this.insertImg(this.meshes.Pages,e[(0,u.Z)(this,X,(i=(0,d.Z)(this,X),++i))],!0),this.createTtsBtnL(),this.createTtsBtnR())}clickP1Back(e){(0,d.Z)(this,X)>4?this.clickP2Back(e):(this.turnBackPageFirst(),(0,u.Z)(this,X,(0,d.Z)(this,X)-2),this.insertImg(this.meshes.Page1Front,e[(0,d.Z)(this,X)],!0),this.createTtsBtnR(),this.deleteOverlayR())}async clickP2Back(e){await this.insertImg(this.meshes.Page2Back,e[(0,d.Z)(this,X)-1]),await this.insertImg(this.meshes.Pages,e[(0,d.Z)(this,X)],!0),(0,u.Z)(this,X,(0,d.Z)(this,X)-2);let t=!0;this.turnBackPageSecond(t),this.insertImg(this.meshes.Page1Back,e[(0,d.Z)(this,X)-1]),this.insertImg(this.meshes.Page2Front,e[(0,d.Z)(this,X)],!0),this.createTtsBtnL(),this.createTtsBtnR()}turnPageFirst(){N((0,d.Z)(this,ee).Page1Action,(0,d.Z)(this,te))}turnBackPageFirst(){q((0,d.Z)(this,ee).Page1Action,(0,d.Z)(this,te))}tunPageSecond(){N((0,d.Z)(this,ee).Page2Action,(0,d.Z)(this,te))}turnBackPageSecond(){q((0,d.Z)(this,ee).Page2Action,(0,d.Z)(this,te))}movePositionToLook(){(0,d.Z)(this,ie).position.set(.45,5,.7),(0,d.Z)(this,ie).rotation.x=-Math.PI/2}createMakeStoryLayoutOne(){const e=.004,t=.013;this.removeMakeStoryLayout();const i=document.getElementById("pageL").cloneNode(!0);i.querySelector(".next-page").addEventListener("click",(async()=>{A.publish("getTitles")})),(0,u.Z)(this,se,new g.cp(i));const s=new Z.Pa4,n=(0,d.Z)(this,ie).children[7].getWorldPosition(s);n.x+=e,(0,d.Z)(this,se).position.copy(n),(0,d.Z)(this,se).rotation.set(-Math.PI/2,0,0),(0,d.Z)(this,se).scale.set(3e-4,3e-4,5e-4),(0,d.Z)(this,se).name="overlayL",(0,d.Z)(this,H).add((0,d.Z)(this,se));const a=document.getElementById("pageR").cloneNode(!0);(0,u.Z)(this,ne,new g.cp(a));const o=(0,d.Z)(this,ie).children[8].getWorldPosition(s);o.x+=t,(0,d.Z)(this,ne).position.copy(o),(0,d.Z)(this,ne).rotation.set(-Math.PI/2,0,0),(0,d.Z)(this,ne).scale.set(3e-4,3e-4,5e-4),(0,d.Z)(this,ne).name="overlayR",(0,d.Z)(this,H).add((0,d.Z)(this,ne))}removeMakeStoryLayout(){this.deleteOverlayR(),this.deleteOverlayL()}createMakeStoryLayoutTwo(){const e=.004,t=.013,i=new Z.Pa4,s=document.getElementById("loading").cloneNode(!0);(0,u.Z)(this,se,new g.cp(s));const n=(0,d.Z)(this,ie).children[7].getWorldPosition(i);n.x+=e,(0,d.Z)(this,se).position.copy(n),(0,d.Z)(this,se).rotation.set(-Math.PI/2,0,0),(0,d.Z)(this,se).scale.set(3e-4,3e-4,5e-4),(0,d.Z)(this,H).add((0,d.Z)(this,se));const a=document.getElementById("pageR2").cloneNode(!0);(0,u.Z)(this,G,a),(0,u.Z)(this,ne,new g.cp(a));const o=(0,d.Z)(this,ie).children[8].getWorldPosition(i);o.x+=t,(0,d.Z)(this,ne).position.copy(o),(0,d.Z)(this,ne).rotation.set(-Math.PI/2,0,0),(0,d.Z)(this,ne).scale.set(3e-4,3e-4,5e-4),(0,d.Z)(this,H).add((0,d.Z)(this,ne))}async createTitlesOnPage(e){(0,d.Z)(this,H).remove((0,d.Z)(this,se));const t=new Z.Pa4,i=document.getElementById("cards").cloneNode(!0);i.querySelector(".next-page2").addEventListener("click",(async()=>{A.publish("makeStory")})),(0,u.Z)(this,se,new g.cp(i));const s=(0,d.Z)(this,ie).children[7].getWorldPosition(t);(0,d.Z)(this,se).position.copy(s),(0,d.Z)(this,se).rotation.set(-Math.PI/2,0,0),(0,d.Z)(this,se).scale.set(3e-4,3e-4,5e-4),(0,d.Z)(this,H).add((0,d.Z)(this,se));const n=i.querySelector("#cardsTitles");for(let a of e){const e=document.getElementById("card"),t=e.cloneNode(!0);let i=a.split(":");1===i.length&&(i=a.split("-"));let s=i[0];t.innerText=s,n.appendChild(t),t.addEventListener("mouseenter",(()=>{let e=(0,d.Z)(this,G).querySelector("#titleDesc");e.innerText=a})),t.addEventListener("click",(()=>{let e=(0,d.Z)(this,G).querySelector("#titleSelected");e.innerText=a}))}}async transitToMakeStoryTwo(){(0,d.Z)(this,H).remove((0,d.Z)(this,ne)),(0,d.Z)(this,H).remove((0,d.Z)(this,se)),this.tunPageSecond(),this.createMakeStoryLayoutTwo()}createTtsBtnL(){const e=new Z.Pa4,t=document.getElementById("ttsL").cloneNode(!0),i=t.querySelector("#ttsBtnL");(0,u.Z)(this,se,new g.cp(t));const s=(0,d.Z)(this,ie).children[8].getWorldPosition(e);(0,d.Z)(this,se).position.copy(s),(0,d.Z)(this,se).position.z=.87,(0,d.Z)(this,se).rotation.set(-Math.PI/2,0,0),(0,d.Z)(this,se).scale.set(3e-4,3e-4,5e-4),(0,d.Z)(this,H).add((0,d.Z)(this,se)),i.addEventListener("click",(()=>{this.fetchTts(this.extractedTexts[(0,d.Z)(this,X)-1])}))}createTtsBtnR(){const e=new Z.Pa4,t=document.getElementById("ttsR").cloneNode(!0),i=t.querySelector("#ttsBtnR");(0,u.Z)(this,ne,new g.cp(t));const s=(0,d.Z)(this,ie).children[7].getWorldPosition(e);(0,d.Z)(this,ne).position.copy(s),(0,d.Z)(this,ne).position.z=.87,(0,d.Z)(this,ne).rotation.set(-Math.PI/2,0,0),(0,d.Z)(this,ne).scale.set(3e-4,3e-4,5e-4),(0,d.Z)(this,H).add((0,d.Z)(this,ne)),i.addEventListener("click",(async()=>{await this.fetchTts(this.extractedTexts[(0,d.Z)(this,X)])}))}deleteOverlayR(){(0,d.Z)(this,H).remove((0,d.Z)(this,se))}deleteOverlayL(){(0,d.Z)(this,H).remove((0,d.Z)(this,ne))}async fetchTts(e){try{const t=await k(e);let i=t.data.audioContent,s=this.base64ToBlob(i,"mp3");(0,d.Z)(this,V).src=window.URL.createObjectURL(s),(0,d.Z)(this,V).playbackRate=1,(0,d.Z)(this,V).play()}catch(t){console.log(t)}}base64ToBlob(e,t){let i="application/"+t,s=e.replace(/^[^,]+,/,""),n=window.atob(s),a=new ArrayBuffer(n.length),o=new Uint8Array(a);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);return new Blob([a],{type:i})}speak(e,t){window.speechSynthesis.cancel();const i=t||{},s=new SpeechSynthesisUtterance;s.rate=i.rate||1,s.pitch=i.pitch||1,s.lang=i.lang||"ko-KR",s.text=e,window.speechSynthesis.speak(s)}async insertImg(e,t,i){return new Promise((s=>{t?(new Z.dpR).load(t,(async t=>{i&&(t.wrapS=Z.rpg,t.repeat.x=-1),e.material.map=t,e.material.needsUpdate=!0,s()})):(e.material.map=null,e.material.needsUpdate=!0,s())}))}}var oe=new WeakMap,re=new WeakMap;class ce{constructor(e){(0,h.Z)(this,oe,{writable:!0,value:void 0}),(0,h.Z)(this,re,{writable:!0,value:78021208}),(0,u.Z)(this,oe,e)}async loadSpace(){return new Promise((e=>{(0,d.Z)(this,oe).load("workshop.glb",(t=>{const i=t.scene;i.position.set(.2,0,0),e(i)}),(e=>{this.loadedPercent=e.loaded/(0,d.Z)(this,re)*100,m.dispatch("setLoadedPercent",this.loadedPercent)}),(function(e){console.log("An error happened",e)}))}))}}class he{constructor(e,t,i){const s=new Z.ZAu;e.add(s);const n=new Z.UY4({color:16777215,size:.0125});function a(){const e=new Z.u9r,t=[];for(let s=0;s<1e3;s++){const e=10*(Math.random()-.5),i=10*(Math.random()-.5),s=10*(Math.random()-.5);t.push(e,i,s)}e.setAttribute("position",new Z.a$l(t,3));const i=new Z.woe(e,n);s.add(i)}a();const o=()=>{requestAnimationFrame(o),s.rotation.x+=.001,s.rotation.y+=.001,t.render(e,i)};o()}}var le=new WeakMap,de=new WeakMap,ue=new WeakMap,Ze=new WeakMap,pe=new WeakMap,me=new WeakMap,we=new WeakMap,ve=new WeakMap,ge=new WeakMap,ye=new WeakMap,Ae=new WeakMap,be=new WeakMap,ke=new WeakMap,fe=new WeakMap,Me=new WeakMap,Pe=new WeakMap,_e=new WeakMap,Se=new WeakSet,Be=new WeakSet,Ie=new WeakSet,We=new WeakSet,Ce=new WeakSet,Le=new WeakSet;class xe{constructor(){(0,r.Z)(this,Le),(0,r.Z)(this,Ce),(0,r.Z)(this,We),(0,r.Z)(this,Ie),(0,r.Z)(this,Be),(0,r.Z)(this,Se),(0,h.Z)(this,le,{writable:!0,value:void 0}),(0,h.Z)(this,de,{writable:!0,value:void 0}),(0,h.Z)(this,ue,{writable:!0,value:void 0}),(0,h.Z)(this,Ze,{writable:!0,value:void 0}),(0,h.Z)(this,pe,{writable:!0,value:void 0}),(0,h.Z)(this,me,{writable:!0,value:void 0}),(0,h.Z)(this,we,{writable:!0,value:void 0}),(0,h.Z)(this,ve,{writable:!0,value:void 0}),(0,h.Z)(this,ge,{writable:!0,value:void 0}),(0,h.Z)(this,ye,{writable:!0,value:void 0}),(0,h.Z)(this,Ae,{writable:!0,value:void 0}),(0,h.Z)(this,be,{writable:!0,value:void 0}),(0,h.Z)(this,ke,{writable:!0,value:void 0}),(0,h.Z)(this,fe,{writable:!0,value:void 0}),(0,h.Z)(this,Me,{writable:!0,value:void 0}),(0,h.Z)(this,Pe,{writable:!0,value:void 0}),(0,h.Z)(this,_e,{writable:!0,value:void 0}),(0,c.Z)(this,"stage",""),(0,c.Z)(this,"loadedPercent",0),(0,c.Z)(this,"minDistance",1.6),(0,c.Z)(this,"maxDistance",7),(0,c.Z)(this,"maxAzimuthAngle",Math.PI/4),(0,c.Z)(this,"minAzimuthAngle",-Math.PI/4),(0,c.Z)(this,"maxPolarAngle",Math.PI/3),(0,c.Z)(this,"extractedTexts",[])}init(){this.stage="INTRO";const e=new Z.xsS;(0,u.Z)(this,de,e);const t=new w.E;(0,u.Z)(this,ue,t);const i=new Z.CP7({antialias:!0});i.setSize(window.innerWidth,window.innerHeight),i.outputEncoding=Z.knz,i.setPixelRatio(window.devicePixelRatio),i.autoClear=!1,i.setClearColor(0,0),(0,u.Z)(this,Ze,i);const s=document.getElementById("three");(0,u.Z)(this,pe,s),(0,d.Z)(this,pe).appendChild((0,d.Z)(this,Ze).domElement),(0,l.Z)(this,Le,Fe).call(this);const n=new Z.cPb(75,window.innerWidth/window.innerHeight,.1,1e3);(0,l.Z)(this,Se,Te).call(this,n),(0,l.Z)(this,Ie,Oe).call(this);const a=new g.lX({antialias:!0});(0,u.Z)(this,me,a),(0,d.Z)(this,me).setSize(window.innerWidth,window.innerHeight),(0,d.Z)(this,me).domElement.style.position="absolute",(0,d.Z)(this,me).domElement.style.top="0px",(0,d.Z)(this,me).domElement.style.pointerEvents="none",document.body.appendChild((0,d.Z)(this,me).domElement),window.onresize=this.resize.bind(this),requestAnimationFrame(this.render.bind(this));let o=new Z.iMs;(0,u.Z)(this,we,o);const r=new Z.FM8;(0,u.Z)(this,ve,r),(0,u.Z)(this,Pe,new he((0,d.Z)(this,de),(0,d.Z)(this,Ze),(0,d.Z)(this,ge))),s.addEventListener("mousedown",this.onDocumentMouseDown.bind(this),!1),A.subscribe("getTitles",this.getTitles.bind(this)),A.subscribe("makeStory",this.makeStory.bind(this)),A.subscribe("beginScene2",this.beginScene2.bind(this)),A.subscribe("beginScene3",this.prepareBook.bind(this))}onDocumentMouseDown(e){(0,d.Z)(this,ve).x=e.clientX/window.innerWidth*2-1,(0,d.Z)(this,ve).y=-e.clientY/window.innerHeight*2+1,(0,d.Z)(this,we).setFromCamera((0,d.Z)(this,ve),(0,d.Z)(this,ge));const t=(0,d.Z)(this,we).intersectObjects((0,d.Z)(this,de).children);let i=null;for(let s of t)if(i=s.object,i.name.length>0)break;if(t.length>0&&"READ_BOOK"===this.stage){const e=(0,d.Z)(this,ye);localStorage.getItem("book",JSON.stringify(e)),"coverL"===i.name?(0,d.Z)(this,Ae).clickCoverFront(e):"coverL_1"===i.name?(0,d.Z)(this,Ae).clickCoverBack():"Page1Front"===i.name?(0,d.Z)(this,Ae).clickP1Front(e):"Page2Front"===i.name?(0,d.Z)(this,Ae).clickP2Front(e):"Pages"===i.name?(0,d.Z)(this,Ae).clickP3Front(e):"Page1Back"===i.name?(0,d.Z)(this,Ae).clickP1Back(e):"Page2Back"===i.name&&(0,d.Z)(this,Ae).clickP2Back(e)}}async goHome(){(0,d.Z)(this,be).addScene(),(0,l.Z)(this,Ce,Re).call(this),(0,l.Z)(this,Se,Te).call(this,(0,d.Z)(this,ge)),(0,d.Z)(this,Ae).removeMakeStoryLayout();let e=(0,d.Z)(this,de).getObjectByName("book");(0,d.Z)(this,de).remove(e);const t=new ae((0,d.Z)(this,de),(0,d.Z)(this,ge),(0,d.Z)(this,me),(0,d.Z)(this,ue),(0,d.Z)(this,Ze));(0,u.Z)(this,Ae,t);const i=await t.loadBook();(0,u.Z)(this,ke,i)}beginScene2(){(0,d.Z)(this,be).removeScene(),(0,l.Z)(this,We,je).call(this),(0,d.Z)(this,Ae).turnCover(),(0,d.Z)(this,Ae).turnPageFirst(),(0,d.Z)(this,Ae).createMakeStoryLayoutOne()}async beginLoadingMakingStory(){(0,d.Z)(this,Ae).turnBackPageFirst(),(0,d.Z)(this,Ae).turnBackPageSecond(),(0,d.Z)(this,Ae).turnBackCover();const e=(0,d.Z)(this,ge).position,t=new Z.Pa4(.443,3,.702),i=2e3;this.animateCamera(e,t,i,this.easeInOutQuad);let s=document.querySelector("#making_story_title");s.style.display="flex"}async endLoadingMakingBook(){let e=document.querySelector("#making_story_title");e.style.display="none"}easeInOutQuad(e){return e<.5?2*e*e:(4-2*e)*e-1}animateCamera(e,t,i,s){const n=performance.now(),a=e.clone(),o=t.clone(),r=o.clone().sub(a),c=e=>{const t=e-n,h=t/i;if(h<1){const e=s(h),t=a.clone().add(r.clone().multiplyScalar(e));(0,d.Z)(this,ge).position.copy(t),(0,d.Z)(this,Ze).render((0,d.Z)(this,de),(0,d.Z)(this,ge)),requestAnimationFrame(c)}else(0,d.Z)(this,ge).position.copy(o),(0,d.Z)(this,Ze).render((0,d.Z)(this,de),(0,d.Z)(this,ge))};requestAnimationFrame(c)}async fetchGetTitles(){const e=document.querySelectorAll("#mainCharacter")[1].value,t=document.querySelectorAll("#genre")[1].value;try{const i=await f({mainCharacter:e,genre:t});(0,d.Z)(this,Ae).createTitlesOnPage(i.data)}catch(i){console.error("Error fetching data:",i)}}async fetchGetBook(e){const t=["story.webm","picture.webm","pdf.webm"],i=new WebSocket("wss://port-0-ai-fairy-tale-book-7e6o2cli06bdq9.sel4.cloudtype.appapi/v1/books");i.onopen=()=>{i.send(e)},i.onmessage=async function(e){if("object"===typeof e.data){const t=e.data;await this.prepareBook(t,!0),i.close()}else{let i=JSON.parse(e.data).beginStage,s=document.querySelector("#making_story_title_sub_text"),n=document.getElementById("making_story_img"),a=document.getElementById("making_story_video");if(1===i){s.textContent="이야기를 만들고 있어요.";let e=document.querySelector("#making_story_title_step1");e.className="making_story_title_step current_step";let i=document.querySelector("#making_story_title_step2");i.className="making_story_title_step";let o=document.querySelector("#making_story_title_step3");o.className="making_story_title_step",a.pause(),n.src=t[0],a.load(),a.play()}else if(2===i){s.textContent="그림을 만들고 있어요.";let e=document.querySelector("#making_story_title_step2");e.className+=" current_step",a.pause(),n.src=t[1],a.load(),a.play()}else if(3===i){s.textContent="Pdf 파일을 만들고 있어요.";let e=document.querySelector("#making_story_title_step3");e.className+=" current_step",a.pause(),n.src=t[2],a.load(),a.play()}}}.bind(this)}async prepareBook(e,t){const i=new Blob([e],{type:"application/pdf"}),s=URL.createObjectURL(i);if(t){const e=document.createElement("a");e.href=s,e.setAttribute("download","book.pdf"),document.body.appendChild(e),e.click()}const n=await this.convertPdfToImages(s);(0,u.Z)(this,ye,n),(0,l.Z)(this,We,je).call(this),this.endLoadingMakingBook(),(0,d.Z)(this,be).zoomCameraToLook(),this.stage="READ_BOOK",(0,d.Z)(this,Ae).createBookCover(n)}async convertPdfToImages(e){const t=await i.e(912).then(i.t.bind(i,3912,23)),s=await i.e(3).then(i.t.bind(i,8003,23));s.GlobalWorkerOptions.workerSrc=t;const n=await s.getDocument(e).promise,a=n.numPages,o=[];for(let i=1;i<=a;i++){const e=await n.getPage(i),t=3,s=e.getViewport({scale:t}),a=document.createElement("canvas"),r=a.getContext("2d");a.width=s.width,a.height=s.height,await e.render({canvasContext:r,viewport:s}).promise;const c=a.toDataURL("image/jpeg");o.push(c);let h="";const l=await e.getTextContent();l.items.forEach((e=>{h+=e.str+" "})),this.extractedTexts.push(h)}return(0,d.Z)(this,Ae).extractedTexts=this.extractedTexts,o}async getTitles(){this.fetchGetTitles(),await(0,d.Z)(this,Ae).transitToMakeStoryTwo()}async makeStory(){const e=document.querySelectorAll("#titleSelected")[1].innerText;e&&(this.fetchGetBook(e),this.beginLoadingMakingStory(),(0,d.Z)(this,Ae).removeMakeStoryLayout())}removeAura(){(0,d.Z)(this,ke).remove((0,d.Z)(this,fe))}createAuraTexture(){const e=document.createElement("canvas");e.width=128,e.height=128;const t=e.getContext("2d"),i=t.createRadialGradient(e.width/2,e.height/2,0,e.width/2,e.height/2,e.width/2);return i.addColorStop(0,"rgba(128, 0, 255, 1)"),i.addColorStop(.4,"rgba(128, 0, 255, 0.6)"),i.addColorStop(1,"rgba(128, 0, 255, 0)"),t.fillStyle=i,t.fillRect(0,0,e.width,e.height),new Z.ROQ(e)}addAura(){const e=this.createAuraTexture(),t=new Z.xeV({map:e,color:16777215,transparent:!0,blending:Z.WMw}),i=new Z.jyi(t);(0,u.Z)(this,fe,i),i.scale.set(5,5,5),(0,d.Z)(this,ke).add(i),i.position.set(-1,0,0);const s=e=>{requestAnimationFrame(s);const i=(Math.sin(.001*e)+1)/2;t.opacity=2*i,(0,d.Z)(this,Ze).render((0,d.Z)(this,de),(0,d.Z)(this,ge))};s(2e3)}resize(){const e=(0,d.Z)(this,pe).clientWidth,t=window.innerHeight;(0,d.Z)(this,ge).aspect=e/t,(0,d.Z)(this,ge).updateProjectionMatrix(),(0,d.Z)(this,Ze).setSize(e,t),(0,d.Z)(this,me)?.setSize(e,t)}render(){(0,d.Z)(this,Ze).render((0,d.Z)(this,de),(0,d.Z)(this,ge)),requestAnimationFrame(this.render.bind(this))}}function Te(e){e.position.set(2.06,2.55,5.98),e.rotation.set(-.404,.307,.128),e.rotation.isEuler=!0,e.updateProjectionMatrix(),(0,u.Z)(this,ge,e)}function Ee(){const e=new Z.cek(16770713);e.intensity=1,e.distance=15,e.decay=1,e.position.set(1,4,0),(0,u.Z)(this,Me,e),(0,d.Z)(this,de).add((0,d.Z)(this,Me));const t=new Z.Mig(4210752,1);(0,u.Z)(this,_e,t),(0,d.Z)(this,de).add((0,d.Z)(this,_e))}function Oe(){(0,u.Z)(this,le,new v.z((0,d.Z)(this,ge),(0,d.Z)(this,Ze).domElement)),(0,d.Z)(this,le).maxPolarAngle=this.maxPolarAngle,(0,d.Z)(this,le).minDistance=this.minDistance,(0,d.Z)(this,le).maxDistance=this.maxDistance,(0,d.Z)(this,le).minAzimuthAngle=this.minAzimuthAngle,(0,d.Z)(this,le).maxAzimuthAngle=this.maxAzimuthAngle,(0,d.Z)(this,le).update()}function je(){(0,d.Z)(this,le).enabled=!1}function Re(){(0,d.Z)(this,le).enabled=!0}async function Fe(){const e=new Z.Tme,t=new ae((0,d.Z)(this,de),(0,d.Z)(this,ge),(0,d.Z)(this,me),(0,d.Z)(this,ue),(0,d.Z)(this,Ze));(0,u.Z)(this,Ae,t);const i=await t.loadBook();(0,u.Z)(this,ke,i);const s=new ce((0,d.Z)(this,ue)),n=await s.loadSpace();e.add(n),(0,d.Z)(this,de).add(e),(0,l.Z)(this,Be,Ee).call(this);const a=new D((0,d.Z)(this,de),(0,d.Z)(this,ge),(0,d.Z)(this,Ze),(0,d.Z)(this,me));(0,u.Z)(this,be,a),m.dispatch("setInitCompleted",!0)}var De=i(7139);const Ne={id:"cssObjects"},qe={class:"page",id:"pageL"},Qe=(0,n._)("div",{class:"input"},[(0,n.Uk)(" 이야기 주인공의 이름은? "),(0,n._)("input",{id:"mainCharacter",placeholder:"이름을 입력해주세요!"})],-1),ze={class:"input"},Xe={id:"genre"},Ue=["value"],Ve=(0,n._)("div",{class:"next-page",style:{"text-align":"right",width:"100%"}},[(0,n._)("p",null,"다음으로 이동 ->")],-1),Ge={class:"page dot center",id:"loading"},He=(0,n._)("p",null,"잠시만 기다려 주세요!",-1),Ke={autoplay:"",loop:"",muted:"",playsinline:""},Ye=["src"],Je=(0,n.uE)('<div class="page" id="pageR"><div><h1>당신의 이야기를 만들어 주세요!</h1><h2>이야기 주인공의 이름과 주제를 선택해 주세요.</h2></div></div><div class="page" id="pageR2"><p>주제를 골라 주세요!</p><div id="titleDesc" class="title-card"></div><div> 선택된 이야기 <div id="titleSelected" class="title-card-border title-card"></div></div></div><div class="page" id="cards"><div id="cardsTitles"></div><div class="next-page2" style="text-align:right;width:100%;"><p>다음으로 이동 -&gt;</p></div></div><div id="card" class="card"><p class="mt-2 text-gray-600"></p></div><div id="ttsR"><button id="ttsBtnR"><i class="fas fa-volume-up fa-4x"></i></button></div><div id="ttsL"><button id="ttsBtnL"><i class="fas fa-volume-up fa-4x"></i></button></div><div id="arrow-start" class="arrow"><div class="arrow-tail"></div><div class="arrow-head"></div></div><div id="arrow-load" class="arrow"><div class="arrow-tail"></div><div class="arrow-head"></div></div><div class="hover_frame" id="desk_frame_front"></div><div class="hover_frame" id="desk_frame_top"></div><div id="start"><div id="circle"></div><h1 class="intro_text">이야기 만들기</h1></div><div class="hover_frame" id="bookshelf_frame_front"></div><div class="hover_frame" id="bookshelf_frame_side"></div><div id="load"><div id="circle"></div><h1 class="intro_text">이야기 불러오기</h1><input type="file" id="pdfUpload" accept=".pdf" style="display:none;"></div>',14),$e=(0,n._)("div",{id:"making_story_title"},[(0,n._)("div",{id:"making_story_title_text"},[(0,n._)("h1",null,"잠시만 기다려 주세요! . . . 최대 3분이 소요 됩니다.")]),(0,n._)("div",{id:"making_story_title_steps"},[(0,n._)("div",{id:"making_story_title_step1",class:"making_story_title_step"}," 1. 이야기 생성 "),(0,n._)("div",{class:"making_story_title_step"},"->"),(0,n._)("div",{id:"making_story_title_step2",class:"making_story_title_step"}," 2. 그림 생성 "),(0,n._)("div",{class:"making_story_title_step"},"->"),(0,n._)("div",{id:"making_story_title_step3",class:"making_story_title_step"}," 3. pdf 생성 ")]),(0,n._)("div",null,[(0,n._)("video",{id:"making_story_video",autoplay:"",loop:"",muted:"",playsinline:""},[(0,n._)("source",{id:"making_story_img",src:"story.webm",type:"video/webm"})])]),(0,n._)("div",{id:"making_story_title_sub_text",class:"dot"},[(0,n._)("h1",null,"이야기를 만들고 있어요!")])],-1);var et={__name:"cssObject",setup(e){const t=["외국 전래동화","해외 전래동화","아무거나","모험","동물","도전","우정"];return(e,s)=>((0,n.wg)(),(0,n.iD)("div",Ne,[(0,n._)("div",qe,[Qe,(0,n._)("div",ze,[(0,n.Uk)(" 이야기의 장르를 선택해 주세요! "),(0,n._)("select",Xe,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(t,(e=>(0,n._)("option",{key:e,value:e},(0,De.zw)(e),9,Ue))),64))])]),Ve]),(0,n._)("div",Ge,[He,(0,n._)("video",Ke,[(0,n._)("source",{src:i(5123),type:"video/webm"},null,8,Ye)])]),Je,$e]))}};const tt=et;var it=tt,st=i(4878);const nt={id:"main"},at=(0,n._)("div",{id:"three"},null,-1);var ot={__name:"Main",setup(e){let t=null;async function i(){await t.goHome()}return(0,n.bv)((()=>{t=new xe,t.init()})),(e,t)=>((0,n.wg)(),(0,n.iD)("div",nt,[at,(0,n.Wm)(it),(0,n.Wm)(st.T,{class:"home-btn","prepend-icon":"mdi-home",size:"x-large",onClick:t[0]||(t[0]=e=>i())},{default:(0,n.w5)((()=>[(0,n.Uk)(" 홈 ")])),_:1})]))}};const rt=ot;var ct=rt,ht=i(4870);const lt=e=>((0,n.dD)("data-v-98283bc2"),e=e(),(0,n.Cn)(),e),dt={class:"container"},ut=["src"],Zt=lt((()=>(0,n._)("div",{class:"title"},[(0,n._)("div",{style:{"text-align":"center"}},"Fairy Tale")],-1))),pt={class:"content"},mt=lt((()=>(0,n._)("div",{class:"dot"}," 불러오는 중... ",-1))),wt={class:"loaded-percent"},vt=lt((()=>(0,n._)("div",null,null,-1)));var gt={__name:"Loading",setup(e){const t=(0,p.oR)(),s=(0,n.Fl)((()=>Math.floor(t.getters.loadedPercent)));return(e,t)=>((0,n.wg)(),(0,n.iD)("div",dt,[(0,n._)("img",{class:"background",src:i(8256)},null,8,ut),Zt,(0,n._)("div",pt,[mt,(0,n._)("div",wt,(0,De.zw)((0,ht.SU)(s))+" % ",1)]),vt]))}},yt=i(89);const At=(0,yt.Z)(gt,[["__scopeId","data-v-98283bc2"]]);var bt=At,kt={name:"App",components:{Main:ct,Loading:bt},setup(){const e=(0,p.oR)(),t=(0,n.Fl)((()=>e.getters.initCompleted));return{isLoaded:t}}};const ft=(0,yt.Z)(kt,[["render",o]]);var Mt=ft,Pt=(i(9773),i(7314)),_t=(0,Pt.Rd)();async function St(){const e=await i.e(461).then(i.t.bind(i,3657,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}St(),(0,s.ri)(Mt).use(_t).use(m).mount("#app")},8256:function(e,t,i){e.exports=i.p+"img/background.dc02c1c2.webp"},5768:function(e){e.exports="data:image/jpeg;base64,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"},5123:function(e,t,i){e.exports=i.p+"media/loading.0b0076c8.webm"}},t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var a=t[s]={exports:{}};return e[s](a,a.exports,i),a.exports}i.m=e,function(){var e=[];i.O=function(t,s,n,a){if(!s){var o=1/0;for(l=0;l<e.length;l++){s=e[l][0],n=e[l][1],a=e[l][2];for(var r=!0,c=0;c<s.length;c++)(!1&a||o>=a)&&Object.keys(i.O).every((function(e){return i.O[e](s[c])}))?s.splice(c--,1):(r=!1,a<o&&(o=a));if(r){e.splice(l--,1);var h=n();void 0!==h&&(t=h)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[s,n,a]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};i.t=function(s,n){if(1&n&&(s=this(s)),8&n)return s;if("object"===typeof s&&s){if(4&n&&s.__esModule)return s;if(16&n&&"function"===typeof s.then)return s}var a=Object.create(null);i.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var r=2&n&&s;"object"==typeof r&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((function(e){o[e]=function(){return s[e]}}));return o["default"]=function(){return s},i.d(a,o),a}}(),function(){i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){i.f={},i.e=function(e){return Promise.all(Object.keys(i.f).reduce((function(t,s){return i.f[s](e,t),t}),[]))}}(),function(){i.u=function(e){return"js/"+(461===e?"webfontloader":e)+"."+{3:"d640b699",461:"214eac89",912:"8997e6f7"}[e]+".js"}}(),function(){i.miniCssF=function(e){}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="fairy-tale-book:";i.l=function(s,n,a,o){if(e[s])e[s].push(n);else{var r,c;if(void 0!==a)for(var h=document.getElementsByTagName("script"),l=0;l<h.length;l++){var d=h[l];if(d.getAttribute("src")==s||d.getAttribute("data-webpack")==t+a){r=d;break}}r||(c=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,i.nc&&r.setAttribute("nonce",i.nc),r.setAttribute("data-webpack",t+a),r.src=s),e[s]=[n];var u=function(t,i){r.onerror=r.onload=null,clearTimeout(Z);var n=e[s];if(delete e[s],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((function(e){return e(i)})),t)return t(i)},Z=setTimeout(u.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=u.bind(null,r.onerror),r.onload=u.bind(null,r.onload),c&&document.head.appendChild(r)}}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.p="/"}(),function(){var e={143:0};i.f.j=function(t,s){var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)s.push(n[2]);else{var a=new Promise((function(i,s){n=e[t]=[i,s]}));s.push(n[2]=a);var o=i.p+i.u(t),r=new Error,c=function(s){if(i.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var a=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.src;r.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",r.name="ChunkLoadError",r.type=a,r.request=o,n[1](r)}};i.l(o,c,"chunk-"+t,t)}},i.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,a,o=s[0],r=s[1],c=s[2],h=0;if(o.some((function(t){return 0!==e[t]}))){for(n in r)i.o(r,n)&&(i.m[n]=r[n]);if(c)var l=c(i)}for(t&&t(s);h<o.length;h++)a=o[h],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(l)},s=self["webpackChunkfairy_tale_book"]=self["webpackChunkfairy_tale_book"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(9720)}));s=i.O(s)})();
//# sourceMappingURL=app.8e4f5310.js.map
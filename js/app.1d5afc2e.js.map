{"version":3,"file":"js/app.1d5afc2e.js","mappings":"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","sources":["webpack://fairy-tale-book/./src/App.vue","webpack://fairy-tale-book/./src/module/function/pubsub.js","webpack://fairy-tale-book/./src/module/function/intro.js","webpack://fairy-tale-book/./src/module/function/book.js","webpack://fairy-tale-book/./src/module/function/main.three.js","webpack://fairy-tale-book/./src/components/HelloWorld.vue","webpack://fairy-tale-book/./src/components/HelloWorld.vue?bd04","webpack://fairy-tale-book/./src/App.vue?7ccd","webpack://fairy-tale-book/./src/main.js","webpack://fairy-tale-book/webpack/bootstrap","webpack://fairy-tale-book/webpack/runtime/chunk loaded","webpack://fairy-tale-book/webpack/runtime/compat get default export","webpack://fairy-tale-book/webpack/runtime/create fake namespace object","webpack://fairy-tale-book/webpack/runtime/define property getters","webpack://fairy-tale-book/webpack/runtime/ensure chunk","webpack://fairy-tale-book/webpack/runtime/get javascript chunk filename","webpack://fairy-tale-book/webpack/runtime/get mini-css chunk filename","webpack://fairy-tale-book/webpack/runtime/global","webpack://fairy-tale-book/webpack/runtime/hasOwnProperty shorthand","webpack://fairy-tale-book/webpack/runtime/load script","webpack://fairy-tale-book/webpack/runtime/make namespace object","webpack://fairy-tale-book/webpack/runtime/publicPath","webpack://fairy-tale-book/webpack/runtime/jsonp chunk loading","webpack://fairy-tale-book/webpack/startup"],"sourcesContent":["<template>\r\n    <!-- <img alt=\"Vue logo\" src=\"./assets/logo.png\"> -->\r\n    <HelloWorld msg=\"Welcome to Your Vue.js App\" />\r\n</template>\r\n\r\n<script>\r\nimport HelloWorld from \"./components/HelloWorld.vue\";\r\n\r\nexport default {\r\n    name: \"App\",\r\n    components: {\r\n        HelloWorld,\r\n    },\r\n};\r\n</script>\r\n\r\n<style>\r\n#app {\r\n    font-family: Avenir, Helvetica, Arial, sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    color: #2c3e50;\r\n    /* margin-top: 60px; */\r\n}\r\nbody {\r\n    margin: 0px;\r\n}\r\n</style>\r\n","class PubSub {\r\n    constructor() {\r\n        this.subscribers = {};\r\n    }\r\n\r\n    subscribe(eventName, callback) {\r\n        if (!this.subscribers[eventName]) {\r\n            this.subscribers[eventName] = [];\r\n        }\r\n        this.subscribers[eventName].push(callback);\r\n    }\r\n\r\n    unsubscribe(eventName, callback) {\r\n        if (this.subscribers[eventName]) {\r\n            this.subscribers[eventName] = this.subscribers[eventName].filter((cb) => cb !== callback);\r\n        }\r\n    }\r\n\r\n    publish(eventName, data) {\r\n        if (this.subscribers[eventName]) {\r\n            this.subscribers[eventName].forEach((callback) => callback(data));\r\n        }\r\n    }\r\n}\r\n\r\nexport const pubSub = new PubSub();\r\n","import * as THREE from \"three\";\r\nimport { CSS3DObject } from \"three/examples/jsm/renderers/CSS3DRenderer.js\";\r\nimport { pubSub } from \"./pubsub\";\r\n\r\nexport default class Intro {\r\n    constructor(scene, camera, renderer, cssRenderer) {\r\n        this._scene = scene;\r\n        this._camera = camera;\r\n        this._renderer = renderer;\r\n        this._cssRenderer = cssRenderer;\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        const load = document.getElementById(\"load\");\r\n        const loadOverlay = new CSS3DObject(load);\r\n        this._loadOverlay = loadOverlay;\r\n        loadOverlay.position.set(-0.2, 1, 3);\r\n        loadOverlay.rotation.set(0, Math.PI / 4, 0);\r\n        loadOverlay.scale.set(0.004, 0.004, 0.006);\r\n\r\n        const loadPonter = document.getElementById(\"arrow-load\");\r\n        const loadPonterOverlay = new CSS3DObject(loadPonter);\r\n        this._loadPonterOverlay = loadPonterOverlay;\r\n        loadPonterOverlay.position.set(-0.5, 1.9, 3.4);\r\n        loadPonterOverlay.rotation.set(-Math.PI / 3, Math.PI / 3, 0);\r\n        loadPonterOverlay.scale.set(0.01, 0.01, 0.01);\r\n\r\n        const start = document.getElementById(\"start\");\r\n        const startOverlay = new CSS3DObject(start);\r\n        this._startOverlay = startOverlay;\r\n        startOverlay.position.set(0.45, 0.8, 0.7);\r\n        startOverlay.scale.set(0.004, 0.004, 0.006);\r\n\r\n        startOverlay.lookAt(this._camera.position);\r\n\r\n        const startPonter = document.getElementById(\"arrow-start\");\r\n        const startPonterOverlay = new CSS3DObject(startPonter);\r\n        this._startPonterOverlay = startPonterOverlay;\r\n        startPonterOverlay.position.set(0.45, 1.1, 0.7);\r\n        startPonterOverlay.rotation.set(0, 0, -Math.PI / 2);\r\n        startPonterOverlay.scale.set(0.008, 0.008, 0.008);\r\n\r\n        this._cssRenderer.render(this._scene, this._camera);\r\n        // _div.position.set(0.594, 0.6, 0.714)\r\n\r\n        const deskFrameFront = document.getElementById(\"desk_frame_front\");\r\n        this._deskFrameFront = deskFrameFront;\r\n        const deskFrameOverlay = new CSS3DObject(deskFrameFront);\r\n        this._deskFrameOverlay = deskFrameOverlay;\r\n        deskFrameOverlay.position.set(0.35, 0.45, 1);\r\n        deskFrameOverlay.scale.set(0.13, 0.07, 0.1);\r\n\r\n        const deskFrameTop = document.getElementById(\"desk_frame_top\");\r\n        this._deskFrameTop = deskFrameTop;\r\n        const deskFrameTopOverlay = new CSS3DObject(deskFrameTop);\r\n        this._deskFrameTopOverlay = deskFrameTopOverlay;\r\n        deskFrameTopOverlay.position.set(0.35, 0.6, 0.7);\r\n        deskFrameTopOverlay.rotation.set(Math.PI / 2, 0, 0);\r\n        deskFrameTopOverlay.scale.set(0.13, 0.06, 0.1);\r\n\r\n        const bookshelfFrameFront = document.getElementById(\"bookshelf_frame_front\");\r\n        this._bookshelfFrameFront = bookshelfFrameFront;\r\n        const bookshelfFrameFrontOverlay = new CSS3DObject(bookshelfFrameFront);\r\n        this._bookshelfFrameFrontOverlay = bookshelfFrameFrontOverlay;\r\n        bookshelfFrameFrontOverlay.position.set(-0.18, 1, 3);\r\n        bookshelfFrameFrontOverlay.rotation.set(0, Math.PI / 4, 0);\r\n        bookshelfFrameFrontOverlay.scale.set(0.05, 0.15, 0.1);\r\n\r\n        const bookshelfFrameSide = document.getElementById(\"bookshelf_frame_side\");\r\n        this._bookshelfFrameSide = bookshelfFrameSide;\r\n        const bookshelfFrameSideOverlay = new CSS3DObject(bookshelfFrameSide);\r\n        this._bookshelfFrameSideOverlay = bookshelfFrameSideOverlay;\r\n        bookshelfFrameSideOverlay.position.set(-0.44, 1, 3);\r\n        bookshelfFrameSideOverlay.rotation.set(0, -Math.PI / 4, 0);\r\n        bookshelfFrameSideOverlay.scale.set(0.03, 0.15, 0.1);\r\n\r\n        this.setHoveringListener();\r\n        this.addScene();\r\n\r\n        // Animation variables\r\n        const amplitude = 0.1; // The distance to move to the right and back\r\n        const period = 2000; // The duration of one full right and back motion in milliseconds\r\n        let startTime = Date.now();\r\n        const animate = () => {\r\n            requestAnimationFrame(animate);\r\n\r\n            // Calculate elapsed time\r\n            const elapsedTime = Date.now() - startTime;\r\n            const progress = (elapsedTime % period) / period;\r\n\r\n            // Calculate the new Z position using a combination of sine and cosine functions\r\n            const zPos = (amplitude * (1 - Math.cos(progress * 2 * Math.PI))) / 2;\r\n            // Update the Mesh object's position\r\n            loadPonterOverlay.position.z = 3.4 - zPos;\r\n            loadPonterOverlay.position.y = 1.9 - zPos;\r\n\r\n            startPonterOverlay.position.y = 1.1 - zPos;\r\n            this._cssRenderer.render(this._scene, this._camera);\r\n        };\r\n        animate();\r\n    }\r\n\r\n    // Animation function\r\n    animateCamera(startPosition, endPosition, startRotation, endRotation, duration, easing) {\r\n        const startTime = performance.now();\r\n        const start = startPosition.clone();\r\n        const end = endPosition.clone();\r\n        const diffPosition = end.clone().sub(start);\r\n        const startQuaternion = startRotation.clone();\r\n        const endQuaternion = endRotation.clone();\r\n        const quaternion = new THREE.Quaternion();\r\n\r\n        const move = (timestamp) => {\r\n            const elapsedTime = timestamp - startTime;\r\n            const progress = elapsedTime / duration;\r\n\r\n            if (progress < 1) {\r\n                const easedProgress = easing(progress);\r\n                const currentPosition = start.clone().add(diffPosition.clone().multiplyScalar(easedProgress));\r\n                quaternion.slerpQuaternions(startQuaternion, endQuaternion, easedProgress);\r\n                this._camera.position.copy(currentPosition);\r\n                this._camera.setRotationFromQuaternion(quaternion);\r\n                this._renderer.render(this._scene, this._camera);\r\n                requestAnimationFrame(move);\r\n            } else {\r\n                this._camera.position.copy(end);\r\n                this._camera.setRotationFromQuaternion(endQuaternion);\r\n                this._renderer.render(this._scene, this._camera);\r\n            }\r\n        };\r\n\r\n        requestAnimationFrame(move);\r\n    }\r\n\r\n    easeInOutQuad(t) {\r\n        return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\r\n    }\r\n\r\n    addScene() {\r\n        this._scene.add(this._loadOverlay);\r\n        this._scene.add(this._loadPonterOverlay);\r\n        this._scene.add(this._bookshelfFrameFrontOverlay);\r\n        this._scene.add(this._bookshelfFrameSideOverlay);\r\n        this._scene.add(this._startOverlay);\r\n        this._scene.add(this._startPonterOverlay);\r\n        this._scene.add(this._deskFrameOverlay);\r\n        this._scene.add(this._deskFrameTopOverlay);\r\n    }\r\n\r\n    removeScene() {\r\n        console.log(\"remove!\");\r\n        this._scene.remove(this._loadOverlay);\r\n        this._scene.remove(this._loadPonterOverlay);\r\n        this._scene.remove(this._bookshelfFrameFrontOverlay);\r\n        this._scene.remove(this._bookshelfFrameSideOverlay);\r\n        this._scene.remove(this._startOverlay);\r\n        this._scene.remove(this._startPonterOverlay);\r\n        this._scene.remove(this._deskFrameOverlay);\r\n        this._scene.remove(this._deskFrameTopOverlay);\r\n    }\r\n\r\n    setHoveringListener() {\r\n        this._bookshelfFrameFront.addEventListener(\"mouseenter\", () => {\r\n            let el = this._loadOverlay.element.querySelector(\"#circle\");\r\n            el.className = \"circle\";\r\n        });\r\n\r\n        this._bookshelfFrameFront.addEventListener(\"mouseleave\", () => {\r\n            let el = this._loadOverlay.element.querySelector(\"#circle\");\r\n            el.className = \"\";\r\n        });\r\n\r\n        this._bookshelfFrameSide.addEventListener(\"mouseenter\", () => {\r\n            let el = this._loadOverlay.element.querySelector(\"#circle\");\r\n            el.className = \"circle\";\r\n        });\r\n\r\n        this._bookshelfFrameSide.addEventListener(\"mouseleave\", () => {\r\n            let el = this._loadOverlay.element.querySelector(\"#circle\");\r\n            el.className = \"\";\r\n        });\r\n\r\n        this._deskFrameFront.addEventListener(\"mouseenter\", () => {\r\n            let el = this._startOverlay.element.querySelector(\"#circle\");\r\n            el.className = \"circle\";\r\n        });\r\n\r\n        this._deskFrameFront.addEventListener(\"mouseleave\", () => {\r\n            let el = this._startOverlay.element.querySelector(\"#circle\");\r\n            el.className = \"\";\r\n        });\r\n        this._deskFrameTop.addEventListener(\"mouseenter\", () => {\r\n            let el = this._startOverlay.element.querySelector(\"#circle\");\r\n            el.className = \"circle\";\r\n        });\r\n\r\n        this._deskFrameTop.addEventListener(\"mouseleave\", () => {\r\n            let el = this._startOverlay.element.querySelector(\"#circle\");\r\n            el.className = \"\";\r\n        });\r\n\r\n        // 이야기 만들기\r\n        this._deskFrameFront.addEventListener(\"click\", () => {\r\n            // Usage example\r\n            const startPosition = this._camera.position;\r\n            const endPosition = new THREE.Vector3(0.443, 1.103, 0.702);\r\n            const startRotation = new THREE.Quaternion().setFromEuler(this._camera.rotation);\r\n            const endRotation = new THREE.Quaternion().setFromEuler(new THREE.Euler(-1.561, 0, 0.00038));\r\n\r\n            // const endRotation = new THREE.Quaternion(-1.561, 0, 0.00038)\r\n\r\n            const duration = 2000; // in milliseconds\r\n            this.animateCamera(startPosition, endPosition, startRotation, endRotation, duration, this.easeInOutQuad);\r\n\r\n            pubSub.publish(\"beginScene2\");\r\n        });\r\n\r\n        this._deskFrameTop.addEventListener(\"click\", () => {\r\n            // Usage example\r\n            const startPosition = this._camera.position;\r\n            const endPosition = new THREE.Vector3(0.443, 1.103, 0.702);\r\n            const startRotation = new THREE.Quaternion().setFromEuler(this._camera.rotation);\r\n            const endRotation = new THREE.Quaternion().setFromEuler(new THREE.Euler(-1.561, 0, 0.00038));\r\n\r\n            // const endRotation = new THREE.Quaternion(-1.561, 0, 0.00038)\r\n\r\n            const duration = 2000; // in milliseconds\r\n            this.animateCamera(startPosition, endPosition, startRotation, endRotation, duration, this.easeInOutQuad);\r\n\r\n            pubSub.publish(\"beginScene2\");\r\n        });\r\n\r\n        // 이야기 불러오기\r\n        this._bookshelfFrameFront.addEventListener(\"click\", () => {\r\n            // Usage example\r\n            this.fileUpload();\r\n        });\r\n\r\n        this._bookshelfFrameSide.addEventListener(\"click\", () => {\r\n            // Usage example\r\n            const startPosition = this._camera.position;\r\n            const endPosition = new THREE.Vector3(0.443, 1.103, 0.702);\r\n            const startRotation = new THREE.Quaternion().setFromEuler(this._camera.rotation);\r\n            const endRotation = new THREE.Quaternion().setFromEuler(new THREE.Euler(-1.561, 0, 0.00038));\r\n\r\n            // const endRotation = new THREE.Quaternion(-1.561, 0, 0.00038)\r\n\r\n            const duration = 2000; // in milliseconds\r\n            this.animateCamera(startPosition, endPosition, startRotation, endRotation, duration, this.easeInOutQuad);\r\n\r\n            pubSub.publish(\"beginScene2\");\r\n        });\r\n    }\r\n\r\n    // TODO 나중에 모듈화\r\n    fileUpload() {\r\n        let fileInput = document.getElementById(\"pdfUpload\");\r\n        fileInput.click();\r\n\r\n        fileInput.addEventListener(\"change\", () => {\r\n            if (fileInput.files.length > 0) {\r\n                console.log(fileInput.files);\r\n                let file = fileInput.files[0];\r\n\r\n                const startPosition = this._camera.position;\r\n                const endPosition = new THREE.Vector3(0.443, 1.103, 0.702);\r\n                const startRotation = new THREE.Quaternion().setFromEuler(this._camera.rotation);\r\n                const endRotation = new THREE.Quaternion().setFromEuler(new THREE.Euler(-1.561, 0, 0.00038));\r\n\r\n                // const endRotation = new THREE.Quaternion(-1.561, 0, 0.00038)\r\n\r\n                const duration = 2000; // in milliseconds\r\n                this.animateCamera(\r\n                    startPosition,\r\n                    endPosition,\r\n                    startRotation,\r\n                    endRotation,\r\n                    duration,\r\n                    this.easeInOutQuad\r\n                );\r\n                this.removeScene();\r\n                pubSub.publish(\"beginScene3\", file);\r\n            }\r\n        });\r\n    }\r\n}\r\n","import * as THREE from \"three\";\r\nimport { CSS3DObject } from \"three/examples/jsm/renderers/CSS3DRenderer.js\";\r\nimport axios from \"axios\";\r\nexport default class Book {\r\n    meshes = {};\r\n    _currentPage = 0;\r\n\r\n    constructor(scene, camera, cssRenderer, gltfLoader, renderer) {\r\n        this._scene = scene;\r\n        this._camera = camera;\r\n        this._cssRenderer = cssRenderer;\r\n        this._gltfLoader = gltfLoader;\r\n        this._renderer = renderer;\r\n    }\r\n\r\n    async loadBook() {\r\n        return new Promise((resolve) => {\r\n            this._gltfLoader.load(\r\n                \"book.glb\",\r\n                function (gltf) {\r\n                    console.log(gltf.scene);\r\n                    // 텍스쳐 입히기\r\n                    // coverL의 cover-front에만 texture를 입힘\r\n                    // gltf.scene.children[2].children[0].traverse(function (child) {\r\n                    gltf.scene.traverse(function (child) {\r\n                        if (child.isMesh) {\r\n                            if (child.name.includes(\"P\")) {\r\n                                let newTexture = null;\r\n                                // page\r\n                                if (child.name.includes(\"back\")) {\r\n                                    newTexture = new THREE.TextureLoader().load(\"/page4.jpg\");\r\n                                } else {\r\n                                    newTexture = new THREE.TextureLoader().load(\"/page4.jpg\");\r\n                                }\r\n                                child.material.map = newTexture;\r\n                                child.material.needsUpdate = true;\r\n                            } else {\r\n                                const newTexture = new THREE.TextureLoader().load(\"/cover.jpg\");\r\n                                child.material.map = newTexture;\r\n                                child.material.needsUpdate = true;\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    const book = gltf.scene;\r\n\r\n                    // mesh를 배열로 만든다.\r\n                    book.traverse((object) => {\r\n                        if (object instanceof THREE.Mesh) {\r\n                            this.meshes[object.name] = object;\r\n                            // meshes.push(object);\r\n                        }\r\n                    });\r\n                    console.log(this.meshes);\r\n\r\n                    const animations = gltf.animations;\r\n                    this._animations = animations;\r\n\r\n                    animations.forEach((element) => {\r\n                        this._animations[element.name] = element;\r\n                    });\r\n\r\n                    console.log(this._animations);\r\n\r\n                    const scaleFactor = 0.2;\r\n                    book.scale.set(scaleFactor, scaleFactor, scaleFactor);\r\n\r\n                    book.position.set(0.45, 0.8, 0.7);\r\n\r\n                    book.rotation.y -= Math.PI;\r\n\r\n                    this._scene.add(book);\r\n\r\n                    this._mixer = new THREE.AnimationMixer(book);\r\n\r\n                    let animate = () => {\r\n                        requestAnimationFrame(animate);\r\n                        this._mixer.update(0.01);\r\n                    };\r\n\r\n                    animate();\r\n\r\n                    this._book = book;\r\n                    resolve(book);\r\n                }.bind(this),\r\n                // called while loading is progressing\r\n                function (xhr) {\r\n                    console.log((xhr.loaded / xhr.total) * 100 + \"% loaded\");\r\n                },\r\n                // called when loading has errors\r\n                function (error) {\r\n                    console.log(\"An error happened\", error);\r\n                }\r\n            );\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 표지 넘기기\r\n     */\r\n    turnCover() {\r\n        const action = this._mixer.clipAction(this._animations[0]);\r\n        action.setLoop(THREE.LoopOnce);\r\n        action.clampWhenFinished = true;\r\n        action.enabled = true;\r\n        action.timeScale = 1;\r\n        action.paused = false;\r\n        action.reset();\r\n        action.play();\r\n\r\n        const action2 = this._mixer.clipAction(this._animations[1]);\r\n        action2.setLoop(THREE.LoopOnce);\r\n        action2.clampWhenFinished = true;\r\n        action2.enabled = true;\r\n        action2.timeScale = 1;\r\n        action2.paused = false;\r\n        action2.reset();\r\n        action2.play();\r\n\r\n        const action3 = this._mixer.clipAction(this._animations[2]);\r\n        action3.setLoop(THREE.LoopOnce);\r\n        action3.clampWhenFinished = true;\r\n        action3.enabled = true;\r\n        action3.timeScale = 1;\r\n        action3.paused = false;\r\n        action3.reset();\r\n        action3.play();\r\n\r\n        const action4 = this._mixer.clipAction(this._animations[3]);\r\n        action4.setLoop(THREE.LoopOnce);\r\n        action4.clampWhenFinished = true;\r\n        action4.enabled = true;\r\n        action4.timeScale = 1;\r\n        action4.paused = false;\r\n        action4.reset();\r\n        action4.play();\r\n    }\r\n    /**\r\n     * 표지 뒤로 넘기기\r\n     */\r\n    turnBackCover() {\r\n        const action = this._mixer.clipAction(this._animations[0]);\r\n        action.setLoop(THREE.LoopOnce);\r\n        action.clampWhenFinished = true;\r\n        action.enabled = true;\r\n        action.paused = false;\r\n        action.timeScale = -1;\r\n        action.play();\r\n\r\n        const action2 = this._mixer.clipAction(this._animations[1]);\r\n        action2.setLoop(THREE.LoopOnce);\r\n        action2.clampWhenFinished = true;\r\n        action2.enabled = true;\r\n        action2.paused = false;\r\n        action2.timeScale = -1;\r\n        action2.play();\r\n\r\n        const action3 = this._mixer.clipAction(this._animations[2]);\r\n        action3.setLoop(THREE.LoopOnce);\r\n        action3.clampWhenFinished = true;\r\n        action3.enabled = true;\r\n        action3.paused = false;\r\n        action3.timeScale = -1;\r\n        action3.play();\r\n\r\n        const action4 = this._mixer.clipAction(this._animations[3]);\r\n        action4.setLoop(THREE.LoopOnce);\r\n        action4.clampWhenFinished = true;\r\n        action4.enabled = true;\r\n        action4.paused = false;\r\n        action4.timeScale = -1;\r\n        action4.play();\r\n    }\r\n\r\n    // 책 겉면에 이미지를 삽입한다.\r\n    async createBookCover(images) {\r\n        await this.insertImg(this.meshes.coverL, images[0]);\r\n    }\r\n\r\n    async clickCoverFront(images) {\r\n        this._currentPage = 0;\r\n        this.turnCover();\r\n        await this.insertImg(this.meshes.Page1Front, images[++this._currentPage], true);\r\n\r\n        this.createTtsBtnR();\r\n    }\r\n\r\n    async clickCoverBack() {\r\n        this.deleteOverlayL();\r\n\r\n        this.turnBackCover();\r\n    }\r\n\r\n    // if: 만들어진 책을 확인하는 상황\r\n    async clickP1Front(images) {\r\n        this.turnPageFirst();\r\n        await this.insertImg(this.meshes.Page1Back, images[++this._currentPage]);\r\n        await this.insertImg(this.meshes.Page2Front, images[++this._currentPage], true);\r\n        this.createTtsBtnL();\r\n        this.createTtsBtnR();\r\n    }\r\n\r\n    async clickP2Front(images) {\r\n        this.tunPageSecond();\r\n        await this.insertImg(this.meshes.Page2Back, images[++this._currentPage]);\r\n        await this.insertImg(this.meshes.Pages, images[++this._currentPage], true);\r\n        this.createTtsBtnL();\r\n        this.createTtsBtnR();\r\n    }\r\n\r\n    async clickP3Front(images) {\r\n        console.log(images.length);\r\n        console.log(this._currentPage + 1);\r\n        // page limit 홀 짝도 계산\r\n        if (images.length < this._currentPage + 2) {\r\n            return;\r\n        }\r\n        await this.insertImg(this.meshes.Page1Back, images[this._currentPage - 1]);\r\n        await this.insertImg(this.meshes.Page2Front, images[this._currentPage], true);\r\n        this.tunPageSecond();\r\n        await this.insertImg(this.meshes.Page2Back, images[++this._currentPage]);\r\n        await this.insertImg(this.meshes.Pages, images[++this._currentPage], true);\r\n        this.createTtsBtnL();\r\n        this.createTtsBtnR();\r\n    }\r\n\r\n    clickP1Back(images) {\r\n        if (this._currentPage > 4) {\r\n            this.clickP2Back(images);\r\n            return;\r\n        }\r\n        this.turnBackPageFirst();\r\n        this._currentPage -= 2;\r\n        this.insertImg(this.meshes.Page1Front, images[this._currentPage], true);\r\n        this.createTtsBtnR();\r\n        this.deleteOverlayR();\r\n    }\r\n\r\n    // todo\r\n    async clickP2Back(images) {\r\n        await this.insertImg(this.meshes.Page2Back, images[this._currentPage - 1]);\r\n        await this.insertImg(this.meshes.Pages, images[this._currentPage], true);\r\n\r\n        this._currentPage -= 2;\r\n        let clampWhenFinished = true;\r\n\r\n        this.turnBackPageSecond(clampWhenFinished);\r\n        this.insertImg(this.meshes.Page1Back, images[this._currentPage - 1]);\r\n        this.insertImg(this.meshes.Page2Front, images[this._currentPage], true);\r\n        this.createTtsBtnL();\r\n        this.createTtsBtnR();\r\n    }\r\n\r\n    /**\r\n     * 첫 번째 페이지 넘기기\r\n     * @param\r\n     * clickedMesh\r\n     */\r\n    turnPageFirst() {\r\n        let action = this._mixer.clipAction(this._animations.Page1Action);\r\n        action.setLoop(THREE.LoopOnce);\r\n        action.clampWhenFinished = true;\r\n        action.enabled = true;\r\n        action.paused = false;\r\n        action.timeScale = 1;\r\n        // reset시 필요\r\n        action.reset();\r\n        action.play();\r\n    }\r\n\r\n    /**\r\n     * 이전 페이지로 이동\r\n     */\r\n    turnBackPageFirst() {\r\n        let action = this._mixer.clipAction(this._animations.Page1Action);\r\n        action.paused = false;\r\n        action.time = action.getClip().duration;\r\n        action.timeScale = -1;\r\n        action.setLoop(THREE.LoopOnce);\r\n        action.clampWhenFinished = true;\r\n        action.enabled = true;\r\n        // reset시 필요\r\n        // action.reset();\r\n        action.play();\r\n    }\r\n\r\n    /**\r\n     * 두 번째 페이지 넘기기\r\n     */\r\n    tunPageSecond() {\r\n        const action = this._mixer.clipAction(this._animations.Page2Action);\r\n        action.setLoop(THREE.LoopOnce);\r\n        action.clampWhenFinished = true;\r\n        action.enabled = true;\r\n        action.paused = false;\r\n        action.timeScale = 1;\r\n        // reset시 필요\r\n        action.reset();\r\n        action.play();\r\n    }\r\n\r\n    turnBackPageSecond() {\r\n        let action = this._mixer.clipAction(this._animations.Page2Action);\r\n        action.paused = false;\r\n        action.time = action.getClip().duration;\r\n        action.timeScale = -1;\r\n        action.setLoop(THREE.LoopOnce);\r\n        action.clampWhenFinished = true;\r\n        action.enabled = true;\r\n        // reset시 필요\r\n        // action.reset();\r\n        action.play();\r\n    }\r\n\r\n    movePositionToLook() {\r\n        this._book.position.set(0.45, 5, 0.7);\r\n        this._book.rotation.x = -Math.PI / 2;\r\n        // this._book.rotation.z = -Math.PI;\r\n    }\r\n\r\n    // make book page\r\n    createMakeStoryLayoutOne() {\r\n        const xOffsetL = 0.011;\r\n        const xOffsetR = 0.03;\r\n\r\n        const pageL = document.getElementById(\"pageL\");\r\n        this._overlayL = new CSS3DObject(pageL);\r\n\r\n        const globalPos = new THREE.Vector3();\r\n        const pagePosL = this._book.children[7].getWorldPosition(globalPos);\r\n        pagePosL.x += xOffsetL;\r\n\r\n        this._overlayL.position.copy(pagePosL);\r\n        this._overlayL.rotation.set(-Math.PI / 2, 0, 0);\r\n\r\n        this._overlayL.scale.set(0.0003, 0.0003, 0.0005);\r\n\r\n        this._scene.add(this._overlayL);\r\n\r\n        const pageR = document.getElementById(\"pageR\");\r\n        this._overlayR = new CSS3DObject(pageR);\r\n        const pagePosR = this._book.children[8].getWorldPosition(globalPos);\r\n        pagePosR.x += xOffsetR;\r\n\r\n        this._overlayR.position.copy(pagePosR);\r\n        this._overlayR.rotation.set(-Math.PI / 2, 0, 0);\r\n        this._overlayR.scale.set(0.0003, 0.0003, 0.0005);\r\n        this._scene.add(this._overlayR);\r\n\r\n        console.log(this._overlayR.element);\r\n    }\r\n\r\n    removeMakeStoryLayout() {\r\n        this.deleteOverlayR();\r\n        this.deleteOverlayL();\r\n    }\r\n\r\n    createMakeStoryLayoutTwo() {\r\n        const xOffsetL = 0.011;\r\n        const xOffsetR = 0.02;\r\n\r\n        const globalPos = new THREE.Vector3();\r\n        const pageL = document.getElementById(\"loading\");\r\n        this._overlayL = new CSS3DObject(pageL);\r\n        const pagePosL = this._book.children[7].getWorldPosition(globalPos);\r\n        pagePosL.x += xOffsetL;\r\n        this._overlayL.position.copy(pagePosL);\r\n        this._overlayL.rotation.set(-Math.PI / 2, 0, 0);\r\n        this._overlayL.scale.set(0.0003, 0.0003, 0.0005);\r\n        this._scene.add(this._overlayL);\r\n\r\n        const pageR = document.getElementById(\"pageR2\");\r\n        this._overlayR = new CSS3DObject(pageR);\r\n        const pagePosR = this._book.children[8].getWorldPosition(globalPos);\r\n        pagePosR.x += xOffsetR;\r\n        this._overlayR.position.copy(pagePosR);\r\n        this._overlayR.rotation.set(-Math.PI / 2, 0, 0);\r\n        this._overlayR.scale.set(0.0003, 0.0003, 0.0005);\r\n        this._scene.add(this._overlayR);\r\n    }\r\n\r\n    async createTitlesOnPage(data) {\r\n        console.log(data);\r\n        this._scene.remove(this._overlayL);\r\n\r\n        const globalPos = new THREE.Vector3();\r\n        const pageL = document.getElementById(\"cards\");\r\n        this._overlayL = new CSS3DObject(pageL);\r\n        const pagePosL = this._book.children[7].getWorldPosition(globalPos);\r\n        this._overlayL.position.copy(pagePosL);\r\n        this._overlayL.rotation.set(-Math.PI / 2, 0, 0);\r\n        this._overlayL.scale.set(0.0003, 0.0003, 0.0005);\r\n        this._scene.add(this._overlayL);\r\n        const cardsTitles = document.getElementById(\"cardsTitles\");\r\n\r\n        for (let datum of data) {\r\n            const card = document.getElementById(\"card\");\r\n            const clonedElement = card.cloneNode(true);\r\n            clonedElement.innerText = datum.split(\":\")[0];\r\n            cardsTitles.appendChild(clonedElement);\r\n\r\n            clonedElement.addEventListener(\"mouseenter\", () => {\r\n                let titleDesc = document.getElementById(\"titleDesc\");\r\n                titleDesc.innerText = datum;\r\n            });\r\n            clonedElement.addEventListener(\"click\", () => {\r\n                let titleSelected = document.getElementById(\"titleSelected\");\r\n                titleSelected.innerText = datum;\r\n            });\r\n        }\r\n    }\r\n\r\n    async transitToMakeStoryTwo() {\r\n        this._scene.remove(this._overlayR);\r\n        this._scene.remove(this._overlayL);\r\n\r\n        this.tunPageSecond();\r\n\r\n        this.createMakeStoryLayoutTwo();\r\n    }\r\n\r\n    createTtsBtnL() {\r\n        const globalPos = new THREE.Vector3();\r\n        const ttsL = document.getElementById(\"ttsL\").cloneNode(true);\r\n        console.log(ttsL);\r\n        const ttsBtnL = ttsL.querySelector(\"#ttsBtnL\");\r\n\r\n        this._overlayL = new CSS3DObject(ttsL);\r\n        const pagePosL = this._book.children[8].getWorldPosition(globalPos);\r\n        this._overlayL.position.copy(pagePosL);\r\n        this._overlayL.position.z = 0.87;\r\n        this._overlayL.rotation.set(-Math.PI / 2, 0, 0);\r\n        this._overlayL.scale.set(0.0003, 0.0003, 0.0005);\r\n        this._scene.add(this._overlayL);\r\n\r\n        ttsBtnL.addEventListener(\"click\", () => {\r\n            this.fetchTts(this.extractedTexts[this._currentPage - 1]);\r\n        });\r\n    }\r\n\r\n    createTtsBtnR() {\r\n        const globalPos = new THREE.Vector3();\r\n\r\n        const ttsR = document.getElementById(\"ttsR\").cloneNode(true);\r\n        const ttsBtnR = ttsR.querySelector(\"#ttsBtnR\");\r\n        this._overlayR = new CSS3DObject(ttsR);\r\n        const pagePosR = this._book.children[7].getWorldPosition(globalPos);\r\n        this._overlayR.position.copy(pagePosR);\r\n        this._overlayR.position.z = 0.87;\r\n\r\n        this._overlayR.rotation.set(-Math.PI / 2, 0, 0);\r\n        this._overlayR.scale.set(0.0003, 0.0003, 0.0005);\r\n        this._scene.add(this._overlayR);\r\n\r\n        ttsBtnR.addEventListener(\"click\", () => {\r\n            console.log(\"book!\");\r\n\r\n            this.fetchTts(this.extractedTexts[this._currentPage]);\r\n        });\r\n    }\r\n\r\n    deleteOverlayR() {\r\n        this._scene.remove(this._overlayL);\r\n    }\r\n\r\n    deleteOverlayL() {\r\n        this._scene.remove(this._overlayR);\r\n    }\r\n\r\n    fetchTts(text) {\r\n        let data = JSON.stringify({\r\n            voice: {\r\n                languageCode: \"ko-KR\",\r\n                ssmlGender: \"FEMALE\",\r\n                name: \"ko-KR-Wavenet-A\", // Specify the voice\r\n            },\r\n            input: {\r\n                text: text,\r\n            },\r\n            audioConfig: {\r\n                audioEncoding: \"mp3\",\r\n            },\r\n        });\r\n\r\n        let config = {\r\n            method: \"post\",\r\n            maxBodyLength: Infinity,\r\n            url: \"https://texttospeech.googleapis.com/v1/text:synthesize?key=AIzaSyCKiq248cQRH-p3lGwK0SgGOdKFKw7dt0Q\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            data: data,\r\n        };\r\n\r\n        axios\r\n            .request(config)\r\n            .then((response) => {\r\n                let audioBase64 = response.data.audioContent;\r\n                var audioFile = new Audio();\r\n                let audioBlob = this.base64ToBlob(audioBase64, \"mp3\");\r\n                audioFile.src = window.URL.createObjectURL(audioBlob);\r\n                audioFile.playbackRate = 1; //재생속도\r\n                audioFile.play();\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    base64ToBlob(base64, fileType) {\r\n        let mime = \"application/\" + fileType;\r\n        let b64 = base64.replace(/^[^,]+,/, \"\");\r\n        let bytes = window.atob(b64);\r\n        let ab = new ArrayBuffer(bytes.length);\r\n        let ia = new Uint8Array(ab);\r\n        for (let i = 0; i < bytes.length; i++) {\r\n            ia[i] = bytes.charCodeAt(i);\r\n        }\r\n        return new Blob([ab], {\r\n            type: mime,\r\n        });\r\n    }\r\n\r\n    // window에서 사용하기\r\n    speak(text, opt_prop) {\r\n        window.speechSynthesis.cancel(); // 현재 읽고있다면 초기화\r\n\r\n        const prop = opt_prop || {};\r\n\r\n        const speechMsg = new SpeechSynthesisUtterance();\r\n        speechMsg.rate = prop.rate || 1; // 속도: 0.1 ~ 10\r\n        speechMsg.pitch = prop.pitch || 1; // 음높이: 0 ~ 2\r\n        speechMsg.lang = prop.lang || \"ko-KR\";\r\n        speechMsg.text = text;\r\n\r\n        // SpeechSynthesisUtterance에 저장된 내용을 바탕으로 음성합성 실행\r\n        window.speechSynthesis.speak(speechMsg);\r\n    }\r\n\r\n    async insertImg(mesh, image, reverseLeft) {\r\n        console.log(mesh);\r\n        return new Promise((resolve) => {\r\n            if (image) {\r\n                new THREE.TextureLoader().load(image, async (texture) => {\r\n                    // texture.rotation = Math.PI / 2;\r\n                    // texture.center = new THREE.Vector2(0.5, 0.5);\r\n                    // 좌우 반전\r\n                    if (reverseLeft) {\r\n                        texture.wrapS = THREE.RepeatWrapping;\r\n                        texture.repeat.x = -1;\r\n                    }\r\n\r\n                    mesh.material.map = texture;\r\n\r\n                    mesh.material.needsUpdate = true;\r\n                    resolve();\r\n                });\r\n            } else {\r\n                mesh.material.map = null;\r\n                mesh.material.needsUpdate = true;\r\n                resolve();\r\n            }\r\n        });\r\n    }\r\n}\r\n","import * as THREE from \"three\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader.js\";\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\r\nimport { CSS3DRenderer } from \"three/examples/jsm/renderers/CSS3DRenderer.js\";\r\nimport { pubSub } from \"./pubsub\";\r\nimport axios from \"axios\";\r\nimport Intro from \"./intro\";\r\nimport Book from \"./book\";\r\n\r\nexport default class Main {\r\n    stage = \"\";\r\n    constructor() {\r\n        this.stage = \"INTRO\";\r\n        const scene = new THREE.Scene();\r\n        this._scene = scene;\r\n        const gltfLoader = new GLTFLoader();\r\n        this._gltfLoader = gltfLoader;\r\n\r\n        // render 설정\r\n        const renderer = new THREE.WebGLRenderer({\r\n            antialias: true,\r\n        });\r\n        renderer.setSize(window.innerWidth, window.innerHeight);\r\n        renderer.outputEncoding = THREE.sRGBEncoding;\r\n        renderer.setPixelRatio(window.devicePixelRatio);\r\n        renderer.setClearColor(\"skyblue\");\r\n        this._renderer = renderer;\r\n\r\n        const myDiv = document.getElementById(\"three\");\r\n        this._myDIv = myDiv;\r\n        this._myDIv.appendChild(this._renderer.domElement);\r\n\r\n        this._initModel();\r\n        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\r\n        this._setupCamera(camera);\r\n        this._setupControls();\r\n\r\n        const cssRenderer = new CSS3DRenderer({ antialias: true });\r\n        this._cssRenderer = cssRenderer;\r\n        this._cssRenderer.setSize(window.innerWidth, window.innerHeight);\r\n        this._cssRenderer.domElement.style.position = \"absolute\";\r\n        this._cssRenderer.domElement.style.top = \"0px\";\r\n        this._cssRenderer.domElement.style.pointerEvents = \"none\";\r\n\r\n        document.body.appendChild(this._cssRenderer.domElement);\r\n\r\n        // resize\r\n        window.onresize = this.resize.bind(this);\r\n        this.resize();\r\n\r\n        requestAnimationFrame(this.render.bind(this));\r\n\r\n        let raycaster = new THREE.Raycaster();\r\n        this._raycaster = raycaster;\r\n\r\n        const mouse = new THREE.Vector2();\r\n        // this._SELECTED = SELECTED\r\n        this._mouse = mouse;\r\n\r\n        myDiv.addEventListener(\"mousedown\", this.onDocumentMouseDown.bind(this), false);\r\n\r\n        // 일단 event listner ...\r\n        let nextPageEl = document.querySelector(\"#next-page\");\r\n        nextPageEl.addEventListener(\"click\", async () => {\r\n            this.fetchGetTitles();\r\n            await this._book.transitToMakeStoryTwo();\r\n            // test 용 지워야 함\r\n            // this._book.createTitlesOnPage([]);\r\n        });\r\n\r\n        // 이야기를 만들기 시작!\r\n        let nextPage2El = document.querySelector(\"#next-page2\");\r\n        nextPage2El.addEventListener(\"click\", async () => {\r\n            this.fetchGetBook();\r\n            this.beginLoadingMakingStory();\r\n            this._book.removeMakeStoryLayout();\r\n        });\r\n\r\n        pubSub.subscribe(\"beginScene2\", this.beginScene2.bind(this));\r\n        pubSub.subscribe(\"beginScene3\", this.prepareBook.bind(this));\r\n    }\r\n\r\n    onDocumentMouseDown(event) {\r\n        // 마우스 클릭 위치를 정규화(normalized)된 장치 좌표(device coordinates)로 변환합니다.\r\n        this._mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\r\n        this._mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\r\n\r\n        this._raycaster.setFromCamera(this._mouse, this._camera);\r\n\r\n        // 레이캐스팅 결과를 저장할 배열입니다.\r\n        var intersects = this._raycaster.intersectObjects(this._scene.children);\r\n        console.log(intersects);\r\n        console.log(this._camera);\r\n        console.log(\"main!\");\r\n        // 가장 가까운 메쉬를 찾습니다.\r\n        if (intersects.length > 0) {\r\n            var clickedMesh = intersects[0].object;\r\n            console.log(clickedMesh);\r\n            // 특정 메쉬를 클릭한 경우, 이벤트를 발생시킵니다.\r\n            if (this.stage === \"READ_BOOK\") {\r\n                // const images = JSON.parse(sessionStorage.getItem(\"book\"));\r\n                const images = this._images;\r\n                localStorage.getItem(\"book\", JSON.stringify(images));\r\n\r\n                if (clickedMesh.name === \"coverL\") {\r\n                    // 표지 넘기기\r\n                    this._book.clickCoverFront(images);\r\n                } else if (clickedMesh.name === \"coverL_1\") {\r\n                    this._book.clickCoverBack();\r\n                } else if (clickedMesh.name === \"Page1Front\") {\r\n                    // 책장 넘기기기\r\n                    this._book.clickP1Front(images);\r\n                    // this._book.turnBackPage();\r\n                } else if (clickedMesh.name === \"Page2Front\") {\r\n                    // 책장 넘기기기2\r\n                    this._book.clickP2Front(images);\r\n                } else if (clickedMesh.name === \"Pages\") {\r\n                    this._book.clickP3Front(images);\r\n                } else if (clickedMesh.name === \"Page1Back\") {\r\n                    // 책 뒤로가기 1\r\n                    this._book.clickP1Back(images);\r\n                } else if (clickedMesh.name === \"Page2Back\") {\r\n                    this._book.clickP2Back(images);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    beginScene2() {\r\n        this._intro.removeScene();\r\n\r\n        // this.stage = \"READ_BOOK\";\r\n        // const images = JSON.parse(sessionStorage.getItem(\"book\"));\r\n        // this._book.createBookCover(images);\r\n\r\n        this._book.turnCover();\r\n        this._book.turnPageFirst();\r\n        this._book.createMakeStoryLayoutOne();\r\n    }\r\n\r\n    async beginLoadingMakingStory() {\r\n        // 책 덮기\r\n        this._book.turnBackPageFirst();\r\n        this._book.turnBackPageSecond();\r\n        this._book.turnBackCover();\r\n        // 아우라 추가\r\n        this.addAura();\r\n\r\n        // 카메라 이동\r\n        const startPosition = this._camera.position;\r\n        const endPosition = new THREE.Vector3(0.443, 3, 0.702);\r\n        const duration = 2000;\r\n        this.animateCamera(startPosition, endPosition, duration, this.easeInOutQuad);\r\n        // text 추가\r\n        let makingStoryEl = document.querySelector(\"#making_story_title\");\r\n        makingStoryEl.style.display = \"block\";\r\n\r\n        let makingStoryTextEl = document.querySelector(\"#making_story_title_text\");\r\n        makingStoryTextEl.textContent = \"이야기를 만들고 있어요. 잠시만 기다려 주세요! . . .\";\r\n        makingStoryTextEl.className = \"dot\";\r\n    }\r\n\r\n    async endLoadingMakingBook() {\r\n        // 아우라 제거\r\n        this.removeAura();\r\n\r\n        // text 변경\r\n        let makingStoryEl = document.querySelector(\"#making_story_title\");\r\n        makingStoryEl.style.display = \"none\";\r\n\r\n        // 새로운 book 띄우기\r\n    }\r\n\r\n    easeInOutQuad(t) {\r\n        return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\r\n    }\r\n\r\n    animateCamera(startPosition, endPosition, duration, easing) {\r\n        const startTime = performance.now();\r\n        const start = startPosition.clone();\r\n        const end = endPosition.clone();\r\n        const diffPosition = end.clone().sub(start);\r\n\r\n        const move = (timestamp) => {\r\n            const elapsedTime = timestamp - startTime;\r\n            const progress = elapsedTime / duration;\r\n\r\n            if (progress < 1) {\r\n                const easedProgress = easing(progress);\r\n                const currentPosition = start.clone().add(diffPosition.clone().multiplyScalar(easedProgress));\r\n                this._camera.position.copy(currentPosition);\r\n                this._renderer.render(this._scene, this._camera);\r\n                requestAnimationFrame(move);\r\n            } else {\r\n                this._camera.position.copy(end);\r\n                this._renderer.render(this._scene, this._camera);\r\n            }\r\n        };\r\n\r\n        requestAnimationFrame(move);\r\n    }\r\n\r\n    async fetchGetTitles() {\r\n        console.log(document.getElementById(\"mainCharacter\"));\r\n        console.log(document.getElementById(\"genre\"));\r\n        const mainCharacter = document.getElementById(\"mainCharacter\").value;\r\n        const genre = document.getElementById(\"genre\").value;\r\n        // const pageCount = document.getElementById(\"pageCount\")?.value;\r\n        const data = {\r\n            mainCharacter: mainCharacter,\r\n            genre: genre,\r\n            // pageCount: pageCount,\r\n        };\r\n\r\n        await axios\r\n            .post(process.env.VUE_APP_API_URL + \"api/title\", {\r\n                data: data,\r\n                responseType: \"json\",\r\n            })\r\n            .then(async (response) => {\r\n                console.log(response);\r\n                // 종료\r\n                this._book.createTitlesOnPage(response.data);\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error fetching data:\", error);\r\n            });\r\n    }\r\n\r\n    async fetchGetBook() {\r\n        const title = document.getElementById(\"titleSelected\").innerText;\r\n        await axios\r\n            .post(\r\n                process.env.VUE_APP_API_URL + \"api/books\",\r\n                { title: title },\r\n                {\r\n                    responseType: \"arraybuffer\",\r\n                }\r\n            )\r\n            .then(async (response) => {\r\n                // const pdfBlob = new Blob([response.data], { type: \"application/pdf\" });\r\n\r\n                const arrayBuffer = response.data;\r\n                this.prepareBook(arrayBuffer, true);\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error fetching data:\", error);\r\n            });\r\n    }\r\n\r\n    async prepareBook(arrayBuffer, download) {\r\n        // // Create a Blob from the ArrayBuffer\r\n        const pdfBlob = new Blob([arrayBuffer], { type: \"application/pdf\" });\r\n\r\n        // // Generate a Blob URL\r\n        const pdfUrl = URL.createObjectURL(pdfBlob);\r\n\r\n        if (download) {\r\n            // Open the URL on new Window\r\n            const link = document.createElement(\"a\");\r\n            link.href = pdfUrl;\r\n            link.setAttribute(\"download\", \"book.pdf\"); // or any other extension\r\n            document.body.appendChild(link);\r\n            link.click();\r\n        }\r\n\r\n        // sessionStorage.setItem(\"pdfUrl\", JSON.stringify(pdfUrl));\r\n\r\n        const images = await this.convertPdfToImages(pdfUrl);\r\n\r\n        // sessionStorage.setItem(\"book\", JSON.stringify(images));\r\n        this._images = images;\r\n        this.endLoadingMakingBook();\r\n        // stage 변경\r\n        this.stage = \"READ_BOOK\";\r\n        // 종료\r\n        this._book.createBookCover(images);\r\n    }\r\n\r\n    extractedTexts = [];\r\n    async convertPdfToImages(arrayBuffer) {\r\n        const pdfjsWorker = await import(\"pdfjs-dist/build/pdf.worker.entry\");\r\n        const _pdfjs = await import(\"pdfjs-dist/build/pdf\");\r\n        _pdfjs.GlobalWorkerOptions.workerSrc = pdfjsWorker;\r\n\r\n        const pdf = await _pdfjs.getDocument(\r\n            arrayBuffer // Try to export JPEG images directly if they don't need any further processing.\r\n        ).promise;\r\n        const numPages = pdf.numPages;\r\n        const images = [];\r\n\r\n        for (let i = 1; i <= numPages; i++) {\r\n            const page = await pdf.getPage(i);\r\n            const scale = 3.0;\r\n            const viewport = page.getViewport({ scale });\r\n\r\n            const canvas = document.createElement(\"canvas\");\r\n            const context = canvas.getContext(\"2d\");\r\n            canvas.width = viewport.width;\r\n            canvas.height = viewport.height;\r\n\r\n            await page.render({ canvasContext: context, viewport }).promise;\r\n\r\n            const dataUrl = canvas.toDataURL(\"image/jpeg\");\r\n            images.push(dataUrl);\r\n\r\n            // text 추출\r\n            let extractedText = \"\";\r\n            const textContent = await page.getTextContent();\r\n            // Concatenate the extracted text\r\n            textContent.items.forEach((item) => {\r\n                extractedText += item.str + \" \";\r\n            });\r\n            this.extractedTexts.push(extractedText);\r\n        }\r\n\r\n        console.log(this.extractedTexts);\r\n        this._book.extractedTexts = this.extractedTexts;\r\n        return images;\r\n    }\r\n\r\n    removeAura() {\r\n        this._bookObj.remove(this._auraSprite);\r\n    }\r\n\r\n    changeTobookLookStage() {\r\n        let makingStoryEl = document.querySelector(\"#making_story_title\");\r\n        makingStoryEl.style.display = \"block\";\r\n\r\n        let makingStoryTextEl = document.querySelector(\"#making_story_title_text\");\r\n        makingStoryTextEl.textContent = \"이야기가 완성 되었어요! 클릭하시면 이야기를 읽을수 있어요!\";\r\n        makingStoryTextEl.className = \"\";\r\n\r\n        // this._camera.position.set(0.58, 4.93, 1.28);\r\n        // this._camera.rotation.set(-0.017, -0.008, 0);\r\n    }\r\n\r\n    createAuraTexture() {\r\n        const canvas = document.createElement(\"canvas\");\r\n        canvas.width = 128;\r\n        canvas.height = 128;\r\n        const context = canvas.getContext(\"2d\");\r\n\r\n        const gradient = context.createRadialGradient(\r\n            canvas.width / 2,\r\n            canvas.height / 2,\r\n            0,\r\n            canvas.width / 2,\r\n            canvas.height / 2,\r\n            canvas.width / 2\r\n        );\r\n\r\n        gradient.addColorStop(0, \"rgba(128, 0, 255, 1)\");\r\n        gradient.addColorStop(0.4, \"rgba(128, 0, 255, 0.6)\");\r\n        gradient.addColorStop(1, \"rgba(128, 0, 255, 0)\");\r\n\r\n        context.fillStyle = gradient;\r\n        context.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n        return new THREE.CanvasTexture(canvas);\r\n    }\r\n\r\n    addAura() {\r\n        const auraTexture = this.createAuraTexture();\r\n        const auraMaterial = new THREE.SpriteMaterial({\r\n            map: auraTexture,\r\n            color: 0xffffff,\r\n            transparent: true,\r\n            blending: THREE.AdditiveBlending,\r\n        });\r\n\r\n        const auraSprite = new THREE.Sprite(auraMaterial);\r\n        this._auraSprite = auraSprite;\r\n        auraSprite.scale.set(5, 5, 5); // 원하는 크기로 조절\r\n\r\n        this._bookObj.add(auraSprite); // 메쉬에 스프라이트를 자식으로 추가\r\n        auraSprite.position.set(-1, 0, 0); // 원하는 위치에 스프라이트를 놓으세요.\r\n\r\n        const animate = (time) => {\r\n            requestAnimationFrame(animate);\r\n\r\n            const delta = (Math.sin(time * 0.001) + 1) / 2;\r\n            auraMaterial.opacity = delta * 2;\r\n\r\n            this._renderer.render(this._scene, this._camera);\r\n        };\r\n\r\n        animate(2000);\r\n    }\r\n\r\n    _setupCamera(camera) {\r\n        camera.position.set(2.06, 2.55, 5.98);\r\n        camera.rotation.set(-0.404, 0.307, 0.128);\r\n        // camera.position.set(0.45, 1.37, 0.578)\r\n        // camera.rotation.set(-1.53, 0.001037, 0.0264)\r\n\r\n        // book camera\r\n        // camera.position.x = 0.45\r\n        // camera.position.y = 1.37\r\n        // camera.position.z = 0.578\r\n\r\n        // camera.rotation.x = -1.53\r\n        // camera.rotation.y = 0.001037\r\n        // camera.rotation.z = 0.0264\r\n        // book camera\r\n\r\n        camera.rotation.isEuler = true;\r\n\r\n        // camera.lookAt(0,0,20)\r\n        camera.updateProjectionMatrix();\r\n        this._camera = camera;\r\n    }\r\n    _setupLight() {\r\n        const light = new THREE.PointLight(0xffe699);\r\n        light.intensity = 1;\r\n        light.distance = 15;\r\n        light.decay = 1;\r\n        light.position.set(1, 4, 0);\r\n        this._light = light;\r\n        this._scene.add(this._light);\r\n\r\n        const helper = new THREE.PointLightHelper(light);\r\n        this._scene.add(helper);\r\n\r\n        // 임시\r\n        const AmbientLight = new THREE.AmbientLight(0x404040, 1); // soft white light\r\n        this._AmbientLight = AmbientLight;\r\n        this._scene.add(this._AmbientLight);\r\n    }\r\n\r\n    _setupControls() {\r\n        // orbit controls\r\n        const controls = new OrbitControls(this._camera, this._renderer.domElement);\r\n        // controls.minDistance = 2;\r\n        // controls.maxDistance = 30;\r\n        // controls.maxPolarAngle = Math.PI / 2.5;\r\n        controls.update();\r\n    }\r\n\r\n    async _initModel() {\r\n        const obj = new THREE.Object3D();\r\n\r\n        const book = new Book(this._scene, this._camera, this._cssRenderer, this._gltfLoader, this._renderer);\r\n        this._book = book;\r\n        const bookObj = await book.loadBook();\r\n        this._bookObj = bookObj;\r\n        // obj.add(book);\r\n\r\n        const house = await this._loadHouse();\r\n        this._house = house;\r\n        obj.add(house);\r\n\r\n        this._scene.add(obj);\r\n        this._setupLight();\r\n\r\n        const intro = new Intro(this._scene, this._camera, this._renderer, this._cssRenderer);\r\n        this._intro = intro;\r\n    }\r\n\r\n    async _loadHouse() {\r\n        return new Promise((resolve) => {\r\n            this._gltfLoader.load(\r\n                \"workshop.glb\",\r\n                (gltf) => {\r\n                    // add the loaded glTF model to the scene\r\n                    const model = gltf.scene;\r\n                    const bookshelf = model.children[0].children[0].children[0].children[1];\r\n                    const desk = model.children[0].children[0].children[0].children[2];\r\n                    this._bookshelf = bookshelf;\r\n                    this._desk = desk;\r\n\r\n                    model.position.set(0.2, 0, 0);\r\n\r\n                    resolve(model);\r\n                },\r\n                function (xhr) {\r\n                    console.log((xhr.loaded / xhr.total) * 100 + \"% loaded\");\r\n                },\r\n                function (error) {\r\n                    console.log(\"An error happened\", error);\r\n                }\r\n            );\r\n        });\r\n    }\r\n\r\n    resize() {\r\n        const width = this._myDIv.clientWidth;\r\n        const height = window.innerHeight;\r\n\r\n        this._camera.aspect = width / height;\r\n        this._camera.updateProjectionMatrix();\r\n\r\n        this._renderer.setSize(width, height);\r\n        this._cssRenderer?.setSize(width, height);\r\n    }\r\n\r\n    // Function to create a flashing light effect\r\n    flashLight(minIntensity, maxIntensity, duration, pauseDuration) {\r\n        const pointLight = new THREE.PointLight(0xffffff, 0, 100);\r\n        pointLight.position.set(0.45, 1.5, 0.578);\r\n        pointLight.scale.set(0.5, 0.5, 0.5);\r\n        this._scene.add(pointLight);\r\n\r\n        const startTime = performance.now();\r\n        const initialIntensity = pointLight.intensity;\r\n\r\n        const helper = new THREE.PointLightHelper(pointLight);\r\n        this._scene.add(helper);\r\n\r\n        const update = () => {\r\n            const elapsed = performance.now() - startTime;\r\n            const progress = elapsed / duration;\r\n\r\n            if (progress < 1) {\r\n                const intensityDelta = maxIntensity - minIntensity;\r\n                pointLight.intensity = minIntensity + intensityDelta * Math.sin(progress * Math.PI);\r\n                requestAnimationFrame(update);\r\n            } else {\r\n                pointLight.intensity = initialIntensity;\r\n                setTimeout(() => {\r\n                    this.flashLight(minIntensity, maxIntensity, duration, pauseDuration);\r\n                }, pauseDuration);\r\n            }\r\n        };\r\n\r\n        update();\r\n    }\r\n\r\n    render() {\r\n        this._renderer.render(this._scene, this._camera);\r\n\r\n        requestAnimationFrame(this.render.bind(this));\r\n    }\r\n}\r\n","<template>\r\n    <div style=\"position: relative\">\r\n        <div\r\n            id=\"three\"\r\n            class=\"hello\"\r\n        ></div>\r\n\r\n        <div id=\"htmls\">\r\n            <div\r\n                class=\"page\"\r\n                id=\"pageL\"\r\n            >\r\n                <div class=\"input\">\r\n                    이야기 주인공의 이름은?\r\n                    <input\r\n                        id=\"mainCharacter\"\r\n                        placeholder=\"이름을 입력해주세요!\"\r\n                    />\r\n                </div>\r\n                <div class=\"input\">\r\n                    이야기의 장르를 선택해 주세요!\r\n                    <select id=\"genre\">\r\n                        <option value=\"아무거나\">아무거나</option>\r\n                        <option value=\"모험\">모험</option>\r\n                        <option value=\"동물\">동물</option>\r\n                        <option value=\"다양성\">다양성</option>\r\n                        <option value=\"가족\">가족</option>\r\n                        <option value=\"도전\">도전</option>\r\n                        <option value=\"우정\">우정</option>\r\n                    </select>\r\n                </div>\r\n                <!-- <div class=\"input\">\r\n                    이야기의 페이지 수를 선택해 주세요!\r\n                    <select id=\"pageCount\">\r\n                        <option value=\"8\">8</option>\r\n                        <option value=\"9\">9</option>\r\n                        <option value=\"10\">10</option>\r\n                        <option value=\"11\">11</option>\r\n                        <option value=\"12\">12</option>\r\n                        <option value=\"13\">13</option>\r\n                        <option value=\"14\">14</option>\r\n                    </select>\r\n                </div> -->\r\n                <div\r\n                    id=\"next-page\"\r\n                    style=\"text-align: right; width: 100%\"\r\n                >\r\n                    <p>다음으로 이동 -></p>\r\n                </div>\r\n            </div>\r\n            <div\r\n                class=\"page dot center\"\r\n                id=\"loading\"\r\n            >\r\n                잠시만 기다려 주세요!\r\n            </div>\r\n\r\n            <div\r\n                class=\"page\"\r\n                id=\"pageR\"\r\n            >\r\n                <div>\r\n                    <h1>당신의 이야기를 만들어 주세요!</h1>\r\n                    <h2>이야기 주인공의 이름과 주제를 선택해 주세요.</h2>\r\n                </div>\r\n            </div>\r\n            <div\r\n                class=\"page\"\r\n                id=\"pageR2\"\r\n            >\r\n                <p>주제를 골라 주세요!</p>\r\n                <div id=\"titleDesc\"></div>\r\n                <div>\r\n                    선택된 이야기\r\n                    <div\r\n                        id=\"titleSelected\"\r\n                        class=\"title-card\"\r\n                    ></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div\r\n                class=\"page\"\r\n                id=\"cards\"\r\n            >\r\n                <div id=\"cardsTitles\"></div>\r\n                <div\r\n                    id=\"next-page2\"\r\n                    style=\"text-align: right; width: 100%\"\r\n                >\r\n                    <p>다음으로 이동 -></p>\r\n                </div>\r\n            </div>\r\n            <div\r\n                id=\"card\"\r\n                class=\"card\"\r\n            >\r\n                <p class=\"mt-2 text-gray-600\">\r\n                    <!-- 1. 장난감 소년 : 장난감 소년은 자신의 친구들과 함께 장난감 마을에 방문하여 여러 장난감들과 놀이를\r\n                    하며 즐거운 시간을 보냈습니다. 그러던 중 장난감 마 을의 왕자가 되기 위해 장난감 소년은 여러\r\n                    장난감들과 함께 모험을 떠나게 됩니다. -->\r\n                </p>\r\n            </div>\r\n\r\n            <div id=\"ttsR\">\r\n                <button id=\"ttsBtnR\">\r\n                    <i class=\"fas fa-volume-up fa-4x\"></i>\r\n                </button>\r\n            </div>\r\n\r\n            <div id=\"ttsL\">\r\n                <button id=\"ttsBtnL\">\r\n                    <i class=\"fas fa-volume-up fa-4x\"></i>\r\n                </button>\r\n            </div>\r\n\r\n            <div\r\n                id=\"arrow-start\"\r\n                class=\"arrow\"\r\n            >\r\n                <div class=\"arrow-tail\"></div>\r\n                <div class=\"arrow-head\"></div>\r\n            </div>\r\n\r\n            <div\r\n                id=\"arrow-load\"\r\n                class=\"arrow\"\r\n            >\r\n                <div class=\"arrow-tail\"></div>\r\n                <div class=\"arrow-head\"></div>\r\n            </div>\r\n\r\n            <div\r\n                class=\"hover_frame\"\r\n                id=\"desk_frame_front\"\r\n            ></div>\r\n            <div\r\n                class=\"hover_frame\"\r\n                id=\"desk_frame_top\"\r\n            ></div>\r\n            <div id=\"start\">\r\n                <div id=\"circle\"></div>\r\n                <h1 class=\"intro_text\">이야기 만들기</h1>\r\n            </div>\r\n            <div\r\n                class=\"hover_frame\"\r\n                id=\"bookshelf_frame_front\"\r\n            ></div>\r\n            <div\r\n                class=\"hover_frame\"\r\n                id=\"bookshelf_frame_side\"\r\n            ></div>\r\n            <div id=\"load\">\r\n                <div id=\"circle\"></div>\r\n                <h1 class=\"intro_text\">이야기 불러오기</h1>\r\n                <input\r\n                    type=\"file\"\r\n                    id=\"pdfUpload\"\r\n                    accept=\".pdf\"\r\n                    style=\"display: none; !important\"\r\n                />\r\n            </div>\r\n            <div id=\"making_story_title\">\r\n                <h1\r\n                    id=\"making_story_title_text\"\r\n                    class=\"dot\"\r\n                    style=\"display: inline\"\r\n                >\r\n                    이야기를 만들고 있어요. 잠시만 기다려 주세요! . . .\r\n                </h1>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport Main from \"@/module/function/main.three\";\r\nimport { onMounted } from \"vue\";\r\n\r\nonMounted(() => {\r\n    new Main();\r\n});\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\nh3 {\r\n    margin: 40px 0 0;\r\n}\r\nul {\r\n    list-style-type: none;\r\n    padding: 0;\r\n}\r\nli {\r\n    display: inline-block;\r\n    margin: 0 10px;\r\n}\r\na {\r\n    color: #42b983;\r\n}\r\n.page {\r\n    position: absolute;\r\n    width: 800px;\r\n    height: 1000px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    font-family: \"InkLipquid\";\r\n    font-weight: 700;\r\n    font-size: 3rem;\r\n    /* font-family: 'NanumGaRamYeonGgoc';\r\n  src: url('@/assets/fonts/garam.ttf') format('ttf'); */\r\n\r\n    /* transform-origin: top left; */\r\n    /* transform: translateX(10px) translateY(20px) scaleX(0.5) scaleY(0.5); */\r\n}\r\n.intro_text {\r\n    color: beige;\r\n    z-index: 1;\r\n    position: relative;\r\n}\r\n\r\n#making_story_title {\r\n    color: white;\r\n    margin-top: 10%;\r\n    width: 100%;\r\n    text-align: center;\r\n    position: absolute;\r\n}\r\n\r\nh1,\r\ninput,\r\nselect,\r\n#making_story_title {\r\n    font-family: \"InkLipquid\";\r\n    font-weight: 700;\r\n    font-size: 3rem;\r\n}\r\n\r\nh2 {\r\n    font-size: 2rem;\r\n}\r\n@font-face {\r\n    font-family: \"InkLipquid\";\r\n    src: url(\"@/assets/fonts/InkLipquidFonts.ttf\") format(\"truetype\");\r\n}\r\n\r\n.circle {\r\n    width: 100%;\r\n    height: 100%;\r\n    /* top: 80px;\r\n  left: 80px; */\r\n    /* 추가된 부분 */\r\n    animation: scale1 2s alternate;\r\n    /* animation: scale1 2s alternate infinite; */\r\n    position: absolute;\r\n    background: #000000;\r\n    border-radius: 50%;\r\n    box-shadow: 7px 7px 10px 1px rgba(0, 0, 0, 0.5);\r\n    z-index: 0;\r\n    cursor: pointer;\r\n}\r\n\r\n@keyframes scale1 {\r\n    0% {\r\n        transform: scale(0);\r\n    }\r\n    100% {\r\n        transform: scale(1);\r\n    }\r\n}\r\n\r\n#start,\r\n#load {\r\n    width: 15rem;\r\n    height: 15rem;\r\n    text-align: center;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.arrow {\r\n    display: inline-flex;\r\n    align-items: center;\r\n}\r\n\r\n.arrow-tail {\r\n    width: 1rem;\r\n    height: 0.2rem;\r\n    background-color: white;\r\n    /* animation: moveLeftAndBack 2s ease infinite; */\r\n}\r\n\r\n.arrow-head {\r\n    width: 0;\r\n    height: 0;\r\n    border-top: 5px solid transparent;\r\n    border-bottom: 5px solid transparent;\r\n    border-left: 7px solid white;\r\n    /* animation: moveLeftAndBack 2s ease infinite; */\r\n}\r\n\r\n@keyframes moveLeftAndBack {\r\n    0%,\r\n    100% {\r\n        transform: translateX(0);\r\n    }\r\n    50% {\r\n        transform: translateX(-2rem);\r\n    }\r\n}\r\n\r\n.hover_frame {\r\n    /* background-color: white; */\r\n    width: 1rem;\r\n    height: 1rem;\r\n    cursor: pointer;\r\n}\r\n\r\n@keyframes dotAnimation {\r\n    0%,\r\n    25% {\r\n        opacity: 1;\r\n    }\r\n    50% {\r\n        opacity: 0;\r\n    }\r\n    75%,\r\n    100% {\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n.dot {\r\n    animation: dotAnimation 1.5s infinite alternate;\r\n}\r\n\r\n#htmls div {\r\n    display: none;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n\r\n#next-page,\r\n#next-page2 {\r\n    cursor: pointer;\r\n}\r\n\r\n#three {\r\n    position: relative;\r\n}\r\n.input {\r\n    text-align: center;\r\n}\r\n.title-card {\r\n    border: 2px solid black;\r\n}\r\n.card {\r\n    padding: 2rem;\r\n    margin-bottom: 2rem;\r\n}\r\n.center {\r\n    justify-content: center;\r\n}\r\n</style>\r\n","import script from \"./HelloWorld.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HelloWorld.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HelloWorld.vue?vue&type=style&index=0&id=40af8004&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\dlwod\\\\OneDrive\\\\바탕 화면\\\\coding\\\\fairyTaleBook\\\\fairy-tale-book\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-40af8004\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=4d8b20fe\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=4d8b20fe&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\dlwod\\\\OneDrive\\\\바탕 화면\\\\coding\\\\fairyTaleBook\\\\fairy-tale-book\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from \"vue\";\r\nimport App from \"./App.vue\";\r\nimport \"./index.css\";\r\n\r\ncreateApp(App).mount(\"#app\");\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"3\":\"d640b699\",\"912\":\"8997e6f7\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"fairy-tale-book:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfairy_tale_book\"] = self[\"webpackChunkfairy_tale_book\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(2932); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_HelloWorld","msg","PubSub","constructor","this","subscribers","subscribe","eventName","callback","push","unsubscribe","filter","cb","publish","data","forEach","pubSub","Intro","scene","camera","renderer","cssRenderer","_scene","_camera","_renderer","_cssRenderer","init","load","document","getElementById","loadOverlay","CSS3DObject","_loadOverlay","position","set","rotation","Math","PI","scale","loadPonter","loadPonterOverlay","_loadPonterOverlay","start","startOverlay","_startOverlay","lookAt","startPonter","startPonterOverlay","_startPonterOverlay","render","deskFrameFront","_deskFrameFront","deskFrameOverlay","_deskFrameOverlay","deskFrameTop","_deskFrameTop","deskFrameTopOverlay","_deskFrameTopOverlay","bookshelfFrameFront","_bookshelfFrameFront","bookshelfFrameFrontOverlay","_bookshelfFrameFrontOverlay","bookshelfFrameSide","_bookshelfFrameSide","bookshelfFrameSideOverlay","_bookshelfFrameSideOverlay","setHoveringListener","addScene","amplitude","period","startTime","Date","now","animate","requestAnimationFrame","elapsedTime","progress","zPos","cos","z","y","animateCamera","startPosition","endPosition","startRotation","endRotation","duration","easing","performance","clone","end","diffPosition","sub","startQuaternion","endQuaternion","quaternion","THREE","move","timestamp","easedProgress","currentPosition","add","multiplyScalar","slerpQuaternions","copy","setRotationFromQuaternion","easeInOutQuad","t","removeScene","console","log","remove","addEventListener","el","element","querySelector","className","setFromEuler","fileUpload","fileInput","click","files","length","file","Book","gltfLoader","_defineProperty","_gltfLoader","async","Promise","resolve","gltf","traverse","child","isMesh","name","includes","newTexture","material","map","needsUpdate","book","object","meshes","animations","_animations","scaleFactor","_mixer","update","_book","bind","xhr","loaded","total","error","turnCover","action","clipAction","setLoop","clampWhenFinished","enabled","timeScale","paused","reset","play","action2","action3","action4","turnBackCover","images","insertImg","coverL","_currentPage","Page1Front","createTtsBtnR","deleteOverlayL","turnPageFirst","Page1Back","Page2Front","createTtsBtnL","tunPageSecond","Page2Back","Pages","clickP1Back","clickP2Back","turnBackPageFirst","deleteOverlayR","turnBackPageSecond","Page1Action","time","getClip","Page2Action","movePositionToLook","x","createMakeStoryLayoutOne","xOffsetL","xOffsetR","pageL","_overlayL","globalPos","pagePosL","children","getWorldPosition","pageR","_overlayR","pagePosR","removeMakeStoryLayout","createMakeStoryLayoutTwo","cardsTitles","datum","card","clonedElement","cloneNode","innerText","split","appendChild","titleDesc","titleSelected","ttsL","ttsBtnL","fetchTts","extractedTexts","ttsR","ttsBtnR","text","JSON","stringify","voice","languageCode","ssmlGender","input","audioConfig","audioEncoding","config","method","maxBodyLength","Infinity","url","headers","axios","then","response","audioBase64","audioContent","audioFile","Audio","audioBlob","base64ToBlob","src","window","URL","createObjectURL","playbackRate","catch","base64","fileType","mime","b64","replace","bytes","atob","ab","ArrayBuffer","ia","Uint8Array","i","charCodeAt","Blob","type","speak","opt_prop","speechSynthesis","cancel","prop","speechMsg","SpeechSynthesisUtterance","rate","pitch","lang","mesh","image","reverseLeft","texture","wrapS","repeat","Main","stage","GLTFLoader","antialias","setSize","innerWidth","innerHeight","outputEncoding","setPixelRatio","devicePixelRatio","setClearColor","myDiv","_myDIv","domElement","_initModel","_setupCamera","_setupControls","CSS3DRenderer","style","top","pointerEvents","body","onresize","resize","raycaster","_raycaster","mouse","_mouse","onDocumentMouseDown","nextPageEl","fetchGetTitles","transitToMakeStoryTwo","nextPage2El","fetchGetBook","beginLoadingMakingStory","beginScene2","prepareBook","event","clientX","clientY","setFromCamera","intersects","intersectObjects","clickedMesh","_images","localStorage","getItem","clickCoverFront","clickCoverBack","clickP1Front","clickP2Front","clickP3Front","_intro","addAura","makingStoryEl","display","makingStoryTextEl","textContent","removeAura","mainCharacter","value","genre","process","responseType","createTitlesOnPage","title","arrayBuffer","download","pdfBlob","pdfUrl","link","createElement","href","setAttribute","convertPdfToImages","endLoadingMakingBook","createBookCover","pdfjsWorker","_pdfjs","GlobalWorkerOptions","workerSrc","pdf","getDocument","promise","numPages","page","getPage","viewport","getViewport","canvas","context","getContext","width","height","canvasContext","dataUrl","toDataURL","extractedText","getTextContent","items","item","str","_bookObj","_auraSprite","changeTobookLookStage","createAuraTexture","gradient","createRadialGradient","addColorStop","fillStyle","fillRect","auraTexture","auraMaterial","color","transparent","blending","auraSprite","delta","sin","opacity","isEuler","updateProjectionMatrix","_setupLight","light","intensity","distance","decay","_light","helper","AmbientLight","_AmbientLight","controls","OrbitControls","obj","bookObj","loadBook","house","_loadHouse","_house","intro","model","bookshelf","desk","_bookshelf","_desk","clientWidth","aspect","flashLight","minIntensity","maxIntensity","pauseDuration","pointLight","initialIntensity","elapsed","intensityDelta","setTimeout","onMounted","__exports__","components","HelloWorld","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","fulfilled","j","Object","keys","every","key","splice","r","n","getter","__esModule","d","a","leafPrototypes","getProto","getPrototypeOf","__proto__","mode","ns","create","def","current","indexOf","getOwnPropertyNames","definition","o","defineProperty","enumerable","get","f","e","chunkId","all","reduce","promises","u","miniCssF","g","globalThis","Function","prototype","hasOwnProperty","call","inProgress","dataWebpackPrefix","l","done","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","timeout","nc","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","target","head","Symbol","toStringTag","p","installedChunks","installedChunkData","reject","Error","loadingEnded","errorType","realSrc","message","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}
(function(){"use strict";var t={5396:function(t,e,i){var s=i(9242),n=i(3396);const a=["src"];function o(t,e,s,o,r,c){const h=(0,n.up)("Loading"),l=(0,n.up)("Main");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("img",{class:"background",src:i(5768),style:{position:"absolute"}},null,8,a),o.isLoaded?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(h,{key:0})),(0,n.Wm)(l)],64)}var r=i(3781),c=i(7327),h=i(714),l=i(9614),d=i(8829),u=i(2575),Z=(i(7658),i(1114)),m=i(65),p=(0,m.MT)({state:{loadedPercent:0,initCompleted:!1},getters:{loadedPercent(t){return t.loadedPercent},initCompleted(t){return t.initCompleted}},mutations:{changeLoadedPercent(t,e){t.loadedPercent=e},changeInitCompleted(t,e){t.initCompleted=e}},actions:{setLoadedPercent(t,e){t.commit("changeLoadedPercent",e)},setInitCompleted(t,e){t.commit("changeInitCompleted",e)}}}),v=i(9469),g=i(4543),w=i(2519);class A{constructor(){this.subscribers={}}subscribe(t,e){this.subscribers[t]||(this.subscribers[t]=[]),this.subscribers[t].push(e)}unsubscribe(t,e){this.subscribers[t]&&(this.subscribers[t]=this.subscribers[t].filter((t=>t!==e)))}publish(t,e){this.subscribers[t]&&this.subscribers[t].forEach((t=>t(e)))}}const y=new A;var b=i(4161);async function k(t){let e=null,i=JSON.stringify({voice:{languageCode:"ko-KR",ssmlGender:"FEMALE",name:"ko-KR-Wavenet-A"},input:{text:t},audioConfig:{audioEncoding:"mp3"}}),s={method:"post",maxBodyLength:1/0,url:"https://texttospeech.googleapis.com/v1/text:synthesize?key=AIzaSyCKiq248cQRH-p3lGwK0SgGOdKFKw7dt0Q",headers:{"Content-Type":"application/json"},data:i};return await b.Z.request(s).then((t=>{e=t})).catch((t=>{throw t})),e}async function f(t){let e=null;return await b.Z.get("https://api-server-6v7btzdaka-du.a.run.app/api/v1/title",{params:t,responseType:"json"}).then((t=>{e=t})).catch((t=>{throw t})),e}function M(t){let e=document.getElementById("pdfUpload");e.click();const i=function(){if(e.files.length>0){let s=e.files[0];t(),y.publish("beginScene3",s),e.value=null,e.removeEventListener("change",i)}};e.addEventListener("change",i)}var P=new WeakMap,S=new WeakMap,B=new WeakMap,I=new WeakMap,W=new WeakMap,_=new WeakMap,x=new WeakMap,C=new WeakMap,L=new WeakMap,T=new WeakMap,E=new WeakMap,j=new WeakMap,O=new WeakMap,R=new WeakMap,F=new WeakMap;class D{constructor(t,e,i,s){(0,h.Z)(this,P,{writable:!0,value:void 0}),(0,h.Z)(this,S,{writable:!0,value:void 0}),(0,h.Z)(this,B,{writable:!0,value:void 0}),(0,h.Z)(this,I,{writable:!0,value:void 0}),(0,h.Z)(this,W,{writable:!0,value:void 0}),(0,h.Z)(this,_,{writable:!0,value:void 0}),(0,h.Z)(this,x,{writable:!0,value:void 0}),(0,h.Z)(this,C,{writable:!0,value:void 0}),(0,h.Z)(this,L,{writable:!0,value:void 0}),(0,h.Z)(this,T,{writable:!0,value:void 0}),(0,h.Z)(this,E,{writable:!0,value:void 0}),(0,h.Z)(this,j,{writable:!0,value:void 0}),(0,h.Z)(this,O,{writable:!0,value:void 0}),(0,h.Z)(this,R,{writable:!0,value:void 0}),(0,h.Z)(this,F,{writable:!0,value:void 0}),this.scene=t,(0,u.Z)(this,P,e),(0,u.Z)(this,S,i),(0,u.Z)(this,B,s),this.init()}init(){const t=document.getElementById("load"),e=new w.cp(t);(0,u.Z)(this,I,e),e.position.set(-.2,1,3),e.rotation.set(0,Math.PI/4,0),e.scale.set(.004,.004,.006);const i=document.getElementById("arrow-load"),s=new w.cp(i);(0,u.Z)(this,W,s),s.position.set(-.5,1.9,3.4),s.rotation.set(-Math.PI/3,Math.PI/3,0),s.scale.set(.01,.01,.01);const n=document.getElementById("start"),a=new w.cp(n);(0,u.Z)(this,_,a),a.position.set(.45,.8,.7),a.scale.set(.004,.004,.006),a.lookAt((0,d.Z)(this,P).position);const o=document.getElementById("arrow-start"),r=new w.cp(o);(0,u.Z)(this,x,r),r.position.set(.45,1.1,.7),r.rotation.set(0,0,-Math.PI/2),r.scale.set(.008,.008,.008),(0,d.Z)(this,B).render(this.scene,(0,d.Z)(this,P));const c=document.getElementById("desk_frame_front");(0,u.Z)(this,C,c);const h=new w.cp(c);(0,u.Z)(this,L,h),h.position.set(.35,.45,1),h.scale.set(.13,.07,.1);const l=document.getElementById("desk_frame_top");(0,u.Z)(this,T,l);const Z=new w.cp(l);(0,u.Z)(this,E,Z),Z.position.set(.35,.6,.7),Z.rotation.set(Math.PI/2,0,0),Z.scale.set(.13,.06,.1);const m=document.getElementById("bookshelf_frame_front");(0,u.Z)(this,j,m);const p=new w.cp(m);(0,u.Z)(this,O,p),p.position.set(-.18,1,3),p.rotation.set(0,Math.PI/4,0),p.scale.set(.05,.15,.1);const v=document.getElementById("bookshelf_frame_side");(0,u.Z)(this,R,v);const g=new w.cp(v);(0,u.Z)(this,F,g),g.position.set(-.44,1,3),g.rotation.set(0,-Math.PI/4,0),g.scale.set(.03,.15,.1),this.setHoveringListener(),this.addScene();const A=.1,y=2e3;let b=Date.now();const k=()=>{requestAnimationFrame(k);const t=Date.now()-b,e=t%y/y,i=A*(1-Math.cos(2*e*Math.PI))/2;s.position.z=3.4-i,s.position.y=1.9-i,r.position.y=1.1-i,(0,d.Z)(this,B).render(this.scene,(0,d.Z)(this,P))};k()}animateCamera(t,e,i,s,n,a){const o=performance.now(),r=t.clone(),c=e.clone(),h=c.clone().sub(r),l=i.clone(),u=s.clone(),m=new Z._fP,p=t=>{const e=t-o,i=e/n;if(i<1){const t=a(i),e=r.clone().add(h.clone().multiplyScalar(t));m.slerpQuaternions(l,u,t),(0,d.Z)(this,P).position.copy(e),(0,d.Z)(this,P).setRotationFromQuaternion(m),(0,d.Z)(this,S).render(this.scene,(0,d.Z)(this,P)),requestAnimationFrame(p)}else(0,d.Z)(this,P).position.copy(c),(0,d.Z)(this,P).setRotationFromQuaternion(u),(0,d.Z)(this,S).render(this.scene,(0,d.Z)(this,P))};requestAnimationFrame(p)}easeInOutQuad(t){return t<.5?2*t*t:(4-2*t)*t-1}addScene(){this.scene.add((0,d.Z)(this,I)),this.scene.add((0,d.Z)(this,W)),this.scene.add((0,d.Z)(this,O)),this.scene.add((0,d.Z)(this,F)),this.scene.add((0,d.Z)(this,_)),this.scene.add((0,d.Z)(this,x)),this.scene.add((0,d.Z)(this,L)),this.scene.add((0,d.Z)(this,E))}removeScene(){this.scene.remove((0,d.Z)(this,I)),this.scene.remove((0,d.Z)(this,W)),this.scene.remove((0,d.Z)(this,O)),this.scene.remove((0,d.Z)(this,F)),this.scene.remove((0,d.Z)(this,_)),this.scene.remove((0,d.Z)(this,x)),this.scene.remove((0,d.Z)(this,L)),this.scene.remove((0,d.Z)(this,E))}setHoveringListener(){(0,d.Z)(this,j).addEventListener("mouseenter",(()=>{let t=(0,d.Z)(this,I).element.querySelector("#circle");t.className="circle"})),(0,d.Z)(this,j).addEventListener("mouseleave",(()=>{let t=(0,d.Z)(this,I).element.querySelector("#circle");t.className=""})),(0,d.Z)(this,R).addEventListener("mouseenter",(()=>{let t=(0,d.Z)(this,I).element.querySelector("#circle");t.className="circle"})),(0,d.Z)(this,R).addEventListener("mouseleave",(()=>{let t=(0,d.Z)(this,I).element.querySelector("#circle");t.className=""})),(0,d.Z)(this,C).addEventListener("mouseenter",(()=>{let t=(0,d.Z)(this,_).element.querySelector("#circle");t.className="circle"})),(0,d.Z)(this,C).addEventListener("mouseleave",(()=>{let t=(0,d.Z)(this,_).element.querySelector("#circle");t.className=""})),(0,d.Z)(this,T).addEventListener("mouseenter",(()=>{let t=(0,d.Z)(this,_).element.querySelector("#circle");t.className="circle"})),(0,d.Z)(this,T).addEventListener("mouseleave",(()=>{let t=(0,d.Z)(this,_).element.querySelector("#circle");t.className=""})),(0,d.Z)(this,C).addEventListener("click",(()=>{this.zoomCameraToLook(),y.publish("beginScene2")})),(0,d.Z)(this,T).addEventListener("click",(()=>{y.publish("beginScene2")})),(0,d.Z)(this,j).addEventListener("click",(()=>{M(this.removeScene.bind(this))})),(0,d.Z)(this,R).addEventListener("click",(()=>{const t=(0,d.Z)(this,P).position,e=new Z.Pa4(.443,1.103,.702),i=(new Z._fP).setFromEuler((0,d.Z)(this,P).rotation),s=(new Z._fP).setFromEuler(new Z.USm(-1.561,0,38e-5)),n=2e3;this.animateCamera(t,e,i,s,n,this.easeInOutQuad),y.publish("beginScene2")}))}zoomCameraToLook(){const t=(0,d.Z)(this,P).position,e=new Z.Pa4(.443,1.103,.702),i=(new Z._fP).setFromEuler((0,d.Z)(this,P).rotation),s=(new Z._fP).setFromEuler(new Z.USm(-1.561,0,38e-5)),n=2e3;this.animateCamera(t,e,i,s,n,this.easeInOutQuad)}}i(2801),i(3767),i(8585),i(8696);const N=(t,e)=>{const i=e.clipAction(t);i.setLoop(Z.jAl),i.clampWhenFinished=!0,i.enabled=!0,i.paused=!1,i.timeScale=1,i.reset(),i.play()},q=(t,e)=>{let i=e.clipAction(t);i.paused=!1,i.time=i.getClip().duration,i.timeScale=-1,i.setLoop(Z.jAl),i.clampWhenFinished=!0,i.enabled=!0,i.play()};var z=i.p+"img/cover.d2a20614.jpg",Q=i.p+"img/page.17d8165d.jpg",X=new WeakMap,U=new WeakMap,V=new WeakMap,G=new WeakMap,H=new WeakMap,K=new WeakMap,Y=new WeakMap,J=new WeakMap,$=new WeakMap,tt=new WeakMap,et=new WeakMap,it=new WeakMap,st=new WeakMap,nt=new WeakMap;class at{constructor(t,e,i,s,n){(0,c.Z)(this,"meshes",{}),(0,h.Z)(this,X,{writable:!0,value:0}),(0,h.Z)(this,U,{writable:!0,value:.01}),(0,h.Z)(this,V,{writable:!0,value:null}),(0,h.Z)(this,G,{writable:!0,value:null}),(0,h.Z)(this,H,{writable:!0,value:void 0}),(0,h.Z)(this,K,{writable:!0,value:void 0}),(0,h.Z)(this,Y,{writable:!0,value:void 0}),(0,h.Z)(this,J,{writable:!0,value:void 0}),(0,h.Z)(this,$,{writable:!0,value:void 0}),(0,h.Z)(this,tt,{writable:!0,value:void 0}),(0,h.Z)(this,et,{writable:!0,value:void 0}),(0,h.Z)(this,it,{writable:!0,value:void 0}),(0,h.Z)(this,st,{writable:!0,value:void 0}),(0,h.Z)(this,nt,{writable:!0,value:void 0}),(0,u.Z)(this,H,t),(0,u.Z)(this,K,e),(0,u.Z)(this,Y,i),(0,u.Z)(this,$,s),(0,u.Z)(this,J,n),(0,u.Z)(this,V,new Audio)}async loadBook(){return new Promise((t=>{(0,d.Z)(this,$).load("book.glb",function(e){console.log(e.scene),e.scene.traverse((function(t){if(t.isMesh)if(t.name.includes("P")){let e=null;e=(t.name.includes("back"),(new Z.dpR).load(Q)),t.material.map=e,t.material.needsUpdate=!0}else{const e=(new Z.dpR).load(z);t.material.map=e,t.material.needsUpdate=!0}}));const i=e.scene;i.traverse((t=>{t instanceof Z.Kj0&&(this.meshes[t.name]=t)}));const s=e.animations;(0,u.Z)(this,tt,s),s.forEach((t=>{(0,d.Z)(this,tt)[t.name]=t}));const n=.2;i.scale.set(n,n,n),i.position.set(.45,.8,.7),i.rotation.y-=Math.PI,i.name="book",(0,d.Z)(this,H).add(i),(0,u.Z)(this,et,new Z.Xcj(i));let a=()=>{requestAnimationFrame(a),(0,d.Z)(this,et).update((0,d.Z)(this,U))};a(),(0,u.Z)(this,it,i),t(i)}.bind(this),(function(t){console.log(t.loaded/t.total*100+"% loaded")}),(function(t){console.log("An error happened",t)}))}))}turnCover(){N((0,d.Z)(this,tt)[0],(0,d.Z)(this,et)),N((0,d.Z)(this,tt)[1],(0,d.Z)(this,et)),N((0,d.Z)(this,tt)[2],(0,d.Z)(this,et)),N((0,d.Z)(this,tt)[3],(0,d.Z)(this,et))}turnBackCover(){q((0,d.Z)(this,tt)[0],(0,d.Z)(this,et)),q((0,d.Z)(this,tt)[1],(0,d.Z)(this,et)),q((0,d.Z)(this,tt)[2],(0,d.Z)(this,et)),q((0,d.Z)(this,tt)[3],(0,d.Z)(this,et))}async createBookCover(t){await this.insertImg(this.meshes.coverL,t[0])}async clickCoverFront(t){var e;(0,u.Z)(this,X,0),this.turnCover(),await this.insertImg(this.meshes.Page1Front,t[(0,u.Z)(this,X,(e=(0,d.Z)(this,X),++e))],!0),this.createTtsBtnR()}async clickCoverBack(){this.deleteOverlayL(),this.turnBackCover()}async clickP1Front(t){var e,i;this.turnPageFirst(),await this.insertImg(this.meshes.Page1Back,t[(0,u.Z)(this,X,(e=(0,d.Z)(this,X),++e))]),await this.insertImg(this.meshes.Page2Front,t[(0,u.Z)(this,X,(i=(0,d.Z)(this,X),++i))],!0),this.createTtsBtnL(),this.createTtsBtnR()}async clickP2Front(t){var e,i;this.tunPageSecond(),await this.insertImg(this.meshes.Page2Back,t[(0,u.Z)(this,X,(e=(0,d.Z)(this,X),++e))]),await this.insertImg(this.meshes.Pages,t[(0,u.Z)(this,X,(i=(0,d.Z)(this,X),++i))],!0),this.createTtsBtnL(),this.createTtsBtnR()}async clickP3Front(t){var e,i;console.log(t.length),console.log((0,d.Z)(this,X)+1),t.length<(0,d.Z)(this,X)+2||(await this.insertImg(this.meshes.Page1Back,t[(0,d.Z)(this,X)-1]),await this.insertImg(this.meshes.Page2Front,t[(0,d.Z)(this,X)],!0),this.tunPageSecond(),await this.insertImg(this.meshes.Page2Back,t[(0,u.Z)(this,X,(e=(0,d.Z)(this,X),++e))]),await this.insertImg(this.meshes.Pages,t[(0,u.Z)(this,X,(i=(0,d.Z)(this,X),++i))],!0),this.createTtsBtnL(),this.createTtsBtnR())}clickP1Back(t){(0,d.Z)(this,X)>4?this.clickP2Back(t):(this.turnBackPageFirst(),(0,u.Z)(this,X,(0,d.Z)(this,X)-2),this.insertImg(this.meshes.Page1Front,t[(0,d.Z)(this,X)],!0),this.createTtsBtnR(),this.deleteOverlayR())}async clickP2Back(t){await this.insertImg(this.meshes.Page2Back,t[(0,d.Z)(this,X)-1]),await this.insertImg(this.meshes.Pages,t[(0,d.Z)(this,X)],!0),(0,u.Z)(this,X,(0,d.Z)(this,X)-2);let e=!0;this.turnBackPageSecond(e),this.insertImg(this.meshes.Page1Back,t[(0,d.Z)(this,X)-1]),this.insertImg(this.meshes.Page2Front,t[(0,d.Z)(this,X)],!0),this.createTtsBtnL(),this.createTtsBtnR()}turnPageFirst(){N((0,d.Z)(this,tt).Page1Action,(0,d.Z)(this,et))}turnBackPageFirst(){q((0,d.Z)(this,tt).Page1Action,(0,d.Z)(this,et))}tunPageSecond(){N((0,d.Z)(this,tt).Page2Action,(0,d.Z)(this,et))}turnBackPageSecond(){q((0,d.Z)(this,tt).Page2Action,(0,d.Z)(this,et))}movePositionToLook(){(0,d.Z)(this,it).position.set(.45,5,.7),(0,d.Z)(this,it).rotation.x=-Math.PI/2}createMakeStoryLayoutOne(){const t=.004,e=.013;this.removeMakeStoryLayout();const i=document.getElementById("pageL").cloneNode(!0);i.querySelector(".next-page").addEventListener("click",(async()=>{y.publish("getTitles")})),(0,u.Z)(this,st,new w.cp(i));const s=new Z.Pa4,n=(0,d.Z)(this,it).children[7].getWorldPosition(s);n.x+=t,(0,d.Z)(this,st).position.copy(n),(0,d.Z)(this,st).rotation.set(-Math.PI/2,0,0),(0,d.Z)(this,st).scale.set(3e-4,3e-4,5e-4),(0,d.Z)(this,st).name="overlayL",(0,d.Z)(this,H).add((0,d.Z)(this,st));const a=document.getElementById("pageR").cloneNode(!0);(0,u.Z)(this,nt,new w.cp(a));const o=(0,d.Z)(this,it).children[8].getWorldPosition(s);o.x+=e,(0,d.Z)(this,nt).position.copy(o),(0,d.Z)(this,nt).rotation.set(-Math.PI/2,0,0),(0,d.Z)(this,nt).scale.set(3e-4,3e-4,5e-4),(0,d.Z)(this,nt).name="overlayR",(0,d.Z)(this,H).add((0,d.Z)(this,nt))}removeMakeStoryLayout(){this.deleteOverlayR(),this.deleteOverlayL()}createMakeStoryLayoutTwo(){const t=.004,e=.013,i=new Z.Pa4,s=document.getElementById("loading").cloneNode(!0);(0,u.Z)(this,st,new w.cp(s));const n=(0,d.Z)(this,it).children[7].getWorldPosition(i);n.x+=t,(0,d.Z)(this,st).position.copy(n),(0,d.Z)(this,st).rotation.set(-Math.PI/2,0,0),(0,d.Z)(this,st).scale.set(3e-4,3e-4,5e-4),(0,d.Z)(this,H).add((0,d.Z)(this,st));const a=document.getElementById("pageR2").cloneNode(!0);(0,u.Z)(this,G,a),(0,u.Z)(this,nt,new w.cp(a));const o=(0,d.Z)(this,it).children[8].getWorldPosition(i);o.x+=e,(0,d.Z)(this,nt).position.copy(o),(0,d.Z)(this,nt).rotation.set(-Math.PI/2,0,0),(0,d.Z)(this,nt).scale.set(3e-4,3e-4,5e-4),(0,d.Z)(this,H).add((0,d.Z)(this,nt))}async createTitlesOnPage(t){(0,d.Z)(this,H).remove((0,d.Z)(this,st));const e=new Z.Pa4,i=document.getElementById("cards").cloneNode(!0);i.querySelector(".next-page2").addEventListener("click",(async()=>{y.publish("makeStory")})),(0,u.Z)(this,st,new w.cp(i));const s=(0,d.Z)(this,it).children[7].getWorldPosition(e);(0,d.Z)(this,st).position.copy(s),(0,d.Z)(this,st).rotation.set(-Math.PI/2,0,0),(0,d.Z)(this,st).scale.set(3e-4,3e-4,5e-4),(0,d.Z)(this,H).add((0,d.Z)(this,st));const n=i.querySelector("#cardsTitles");for(let a of t){const t=document.getElementById("card"),e=t.cloneNode(!0);let i=a.split(":");1===i.length&&(i=a.split("-"));let s=i[0];e.innerText=s,n.appendChild(e),e.addEventListener("mouseenter",(()=>{let t=(0,d.Z)(this,G).querySelector("#titleDesc");t.innerText=a})),e.addEventListener("click",(()=>{let t=(0,d.Z)(this,G).querySelector("#titleSelected");t.innerText=a}))}}async transitToMakeStoryTwo(){(0,d.Z)(this,H).remove((0,d.Z)(this,nt)),(0,d.Z)(this,H).remove((0,d.Z)(this,st)),this.tunPageSecond(),this.createMakeStoryLayoutTwo()}createTtsBtnL(){const t=new Z.Pa4,e=document.getElementById("ttsL").cloneNode(!0);console.log(e);const i=e.querySelector("#ttsBtnL");(0,u.Z)(this,st,new w.cp(e));const s=(0,d.Z)(this,it).children[8].getWorldPosition(t);(0,d.Z)(this,st).position.copy(s),(0,d.Z)(this,st).position.z=.87,(0,d.Z)(this,st).rotation.set(-Math.PI/2,0,0),(0,d.Z)(this,st).scale.set(3e-4,3e-4,5e-4),(0,d.Z)(this,H).add((0,d.Z)(this,st)),i.addEventListener("click",(()=>{this.fetchTts(this.extractedTexts[(0,d.Z)(this,X)-1])}))}createTtsBtnR(){const t=new Z.Pa4,e=document.getElementById("ttsR").cloneNode(!0),i=e.querySelector("#ttsBtnR");(0,u.Z)(this,nt,new w.cp(e));const s=(0,d.Z)(this,it).children[7].getWorldPosition(t);(0,d.Z)(this,nt).position.copy(s),(0,d.Z)(this,nt).position.z=.87,(0,d.Z)(this,nt).rotation.set(-Math.PI/2,0,0),(0,d.Z)(this,nt).scale.set(3e-4,3e-4,5e-4),(0,d.Z)(this,H).add((0,d.Z)(this,nt)),i.addEventListener("click",(async()=>{console.log("book!"),await this.fetchTts(this.extractedTexts[(0,d.Z)(this,X)])}))}deleteOverlayR(){(0,d.Z)(this,H).remove((0,d.Z)(this,st))}deleteOverlayL(){(0,d.Z)(this,H).remove((0,d.Z)(this,nt))}async fetchTts(t){try{const e=await k(t);let i=e.data.audioContent,s=this.base64ToBlob(i,"mp3");(0,d.Z)(this,V).src=window.URL.createObjectURL(s),(0,d.Z)(this,V).playbackRate=1,(0,d.Z)(this,V).play()}catch(e){console.log(e)}}base64ToBlob(t,e){let i="application/"+e,s=t.replace(/^[^,]+,/,""),n=window.atob(s),a=new ArrayBuffer(n.length),o=new Uint8Array(a);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);return new Blob([a],{type:i})}speak(t,e){window.speechSynthesis.cancel();const i=e||{},s=new SpeechSynthesisUtterance;s.rate=i.rate||1,s.pitch=i.pitch||1,s.lang=i.lang||"ko-KR",s.text=t,window.speechSynthesis.speak(s)}async insertImg(t,e,i){return console.log(t),new Promise((s=>{e?(new Z.dpR).load(e,(async e=>{i&&(e.wrapS=Z.rpg,e.repeat.x=-1),t.material.map=e,t.material.needsUpdate=!0,s()})):(t.material.map=null,t.material.needsUpdate=!0,s())}))}}var ot=new WeakMap;class rt{constructor(t){(0,h.Z)(this,ot,{writable:!0,value:void 0}),(0,u.Z)(this,ot,t)}async loadSpace(){return new Promise((t=>{(0,d.Z)(this,ot).load("workshop.glb",(e=>{const i=e.scene;i.position.set(.2,0,0),t(i)}),(function(t){this.loadedPercent=t.loaded/t.total*100,p.dispatch("setLoadedPercent",this.loadedPercent)}),(function(t){console.log("An error happened",t)}))}))}}class ct{constructor(t,e,i){const s=new Z.ZAu;t.add(s);const n=new Z.UY4({color:16777215,size:.0125});function a(){const t=new Z.u9r,e=[];for(let s=0;s<1e3;s++){const t=10*(Math.random()-.5),i=10*(Math.random()-.5),s=10*(Math.random()-.5);e.push(t,i,s)}t.setAttribute("position",new Z.a$l(e,3));const i=new Z.woe(t,n);s.add(i)}a();const o=()=>{requestAnimationFrame(o),s.rotation.x+=.001,s.rotation.y+=.001,e.render(t,i)};o()}}var ht=new WeakMap,lt=new WeakMap,dt=new WeakMap,ut=new WeakMap,Zt=new WeakMap,mt=new WeakMap,pt=new WeakMap,vt=new WeakMap,gt=new WeakMap,wt=new WeakMap,At=new WeakMap,yt=new WeakMap,bt=new WeakMap,kt=new WeakMap,ft=new WeakMap,Mt=new WeakMap,Pt=new WeakMap,St=new WeakSet,Bt=new WeakSet,It=new WeakSet,Wt=new WeakSet,_t=new WeakSet,xt=new WeakSet;class Ct{constructor(){(0,r.Z)(this,xt),(0,r.Z)(this,_t),(0,r.Z)(this,Wt),(0,r.Z)(this,It),(0,r.Z)(this,Bt),(0,r.Z)(this,St),(0,h.Z)(this,ht,{writable:!0,value:void 0}),(0,h.Z)(this,lt,{writable:!0,value:void 0}),(0,h.Z)(this,dt,{writable:!0,value:void 0}),(0,h.Z)(this,ut,{writable:!0,value:void 0}),(0,h.Z)(this,Zt,{writable:!0,value:void 0}),(0,h.Z)(this,mt,{writable:!0,value:void 0}),(0,h.Z)(this,pt,{writable:!0,value:void 0}),(0,h.Z)(this,vt,{writable:!0,value:void 0}),(0,h.Z)(this,gt,{writable:!0,value:void 0}),(0,h.Z)(this,wt,{writable:!0,value:void 0}),(0,h.Z)(this,At,{writable:!0,value:void 0}),(0,h.Z)(this,yt,{writable:!0,value:void 0}),(0,h.Z)(this,bt,{writable:!0,value:void 0}),(0,h.Z)(this,kt,{writable:!0,value:void 0}),(0,h.Z)(this,ft,{writable:!0,value:void 0}),(0,h.Z)(this,Mt,{writable:!0,value:void 0}),(0,h.Z)(this,Pt,{writable:!0,value:void 0}),(0,c.Z)(this,"stage",""),(0,c.Z)(this,"loadedPercent",0),(0,c.Z)(this,"minDistance",1.6),(0,c.Z)(this,"maxDistance",7),(0,c.Z)(this,"maxAzimuthAngle",Math.PI/4),(0,c.Z)(this,"minAzimuthAngle",-Math.PI/4),(0,c.Z)(this,"maxPolarAngle",Math.PI/3),(0,c.Z)(this,"extractedTexts",[])}init(){this.stage="INTRO";const t=new Z.xsS;(0,u.Z)(this,lt,t);const e=new v.E;(0,u.Z)(this,dt,e);const i=new Z.CP7({antialias:!0});i.setSize(window.innerWidth,window.innerHeight),i.outputEncoding=Z.knz,i.setPixelRatio(window.devicePixelRatio),i.autoClear=!1,i.setClearColor(0,0),(0,u.Z)(this,ut,i);const s=document.getElementById("three");(0,u.Z)(this,Zt,s),(0,d.Z)(this,Zt).appendChild((0,d.Z)(this,ut).domElement),(0,l.Z)(this,xt,Rt).call(this);const n=new Z.cPb(75,window.innerWidth/window.innerHeight,.1,1e3);(0,l.Z)(this,St,Lt).call(this,n),(0,l.Z)(this,It,Et).call(this);const a=new w.lX({antialias:!0});(0,u.Z)(this,mt,a),(0,d.Z)(this,mt).setSize(window.innerWidth,window.innerHeight),(0,d.Z)(this,mt).domElement.style.position="absolute",(0,d.Z)(this,mt).domElement.style.top="0px",(0,d.Z)(this,mt).domElement.style.pointerEvents="none",document.body.appendChild((0,d.Z)(this,mt).domElement),window.onresize=this.resize.bind(this),requestAnimationFrame(this.render.bind(this));let o=new Z.iMs;(0,u.Z)(this,pt,o);const r=new Z.FM8;(0,u.Z)(this,vt,r),(0,u.Z)(this,Mt,new ct((0,d.Z)(this,lt),(0,d.Z)(this,ut),(0,d.Z)(this,gt))),s.addEventListener("mousedown",this.onDocumentMouseDown.bind(this),!1),y.subscribe("getTitles",this.getTitles.bind(this)),y.subscribe("makeStory",this.makeStory.bind(this)),y.subscribe("beginScene2",this.beginScene2.bind(this)),y.subscribe("beginScene3",this.prepareBook.bind(this))}onDocumentMouseDown(t){(0,d.Z)(this,vt).x=t.clientX/window.innerWidth*2-1,(0,d.Z)(this,vt).y=-t.clientY/window.innerHeight*2+1,(0,d.Z)(this,pt).setFromCamera((0,d.Z)(this,vt),(0,d.Z)(this,gt));const e=(0,d.Z)(this,pt).intersectObjects((0,d.Z)(this,lt).children);let i=null;for(let s of e)if(i=s.object,i.name.length>0)break;if(e.length>0&&"READ_BOOK"===this.stage){const t=(0,d.Z)(this,wt);localStorage.getItem("book",JSON.stringify(t)),"coverL"===i.name?(0,d.Z)(this,At).clickCoverFront(t):"coverL_1"===i.name?(0,d.Z)(this,At).clickCoverBack():"Page1Front"===i.name?(0,d.Z)(this,At).clickP1Front(t):"Page2Front"===i.name?(0,d.Z)(this,At).clickP2Front(t):"Pages"===i.name?(0,d.Z)(this,At).clickP3Front(t):"Page1Back"===i.name?(0,d.Z)(this,At).clickP1Back(t):"Page2Back"===i.name&&(0,d.Z)(this,At).clickP2Back(t)}}async goHome(){(0,d.Z)(this,yt).addScene(),(0,l.Z)(this,_t,Ot).call(this),(0,l.Z)(this,St,Lt).call(this,(0,d.Z)(this,gt)),(0,d.Z)(this,At).removeMakeStoryLayout();let t=(0,d.Z)(this,lt).getObjectByName("book");(0,d.Z)(this,lt).remove(t);const e=new at((0,d.Z)(this,lt),(0,d.Z)(this,gt),(0,d.Z)(this,mt),(0,d.Z)(this,dt),(0,d.Z)(this,ut));(0,u.Z)(this,At,e);const i=await e.loadBook();(0,u.Z)(this,bt,i)}beginScene2(){(0,d.Z)(this,yt).removeScene(),(0,l.Z)(this,Wt,jt).call(this),(0,d.Z)(this,At).turnCover(),(0,d.Z)(this,At).turnPageFirst(),(0,d.Z)(this,At).createMakeStoryLayoutOne()}async beginLoadingMakingStory(){(0,d.Z)(this,At).turnBackPageFirst(),(0,d.Z)(this,At).turnBackPageSecond(),(0,d.Z)(this,At).turnBackCover();const t=(0,d.Z)(this,gt).position,e=new Z.Pa4(.443,3,.702),i=2e3;this.animateCamera(t,e,i,this.easeInOutQuad);let s=document.querySelector("#making_story_title");s.style.display="flex"}async endLoadingMakingBook(){let t=document.querySelector("#making_story_title");t.style.display="none"}easeInOutQuad(t){return t<.5?2*t*t:(4-2*t)*t-1}animateCamera(t,e,i,s){const n=performance.now(),a=t.clone(),o=e.clone(),r=o.clone().sub(a),c=t=>{const e=t-n,h=e/i;if(h<1){const t=s(h),e=a.clone().add(r.clone().multiplyScalar(t));(0,d.Z)(this,gt).position.copy(e),(0,d.Z)(this,ut).render((0,d.Z)(this,lt),(0,d.Z)(this,gt)),requestAnimationFrame(c)}else(0,d.Z)(this,gt).position.copy(o),(0,d.Z)(this,ut).render((0,d.Z)(this,lt),(0,d.Z)(this,gt))};requestAnimationFrame(c)}async fetchGetTitles(){const t=document.querySelectorAll("#mainCharacter")[1].value,e=document.querySelectorAll("#genre")[1].value;try{const i=await f({mainCharacter:t,genre:e});(0,d.Z)(this,At).createTitlesOnPage(i.data)}catch(i){console.error("Error fetching data:",i)}}async fetchGetBook(t){const e=["story.gif","picture.gif","pdf.gif"],i=new WebSocket("wss://api-server-6v7btzdaka-du.a.run.app/api/v1/books");i.onopen=()=>{i.send(t),console.log("웹소켓서버와 연결 성공")},i.onmessage=async function(t){if("object"===typeof t.data){const e=t.data;await this.prepareBook(e,!0),i.close()}else{let i=JSON.parse(t.data).beginStage,s=document.querySelector("#making_story_title_sub_text"),n=document.getElementById("making_story_img");if(1===i){s.textContent="이야기를 만들고 있어요.";let t=document.querySelector("#making_story_title_step1");t.className="making_story_title_step current_step";let i=document.querySelector("#making_story_title_step2");i.className="making_story_title_step";let a=document.querySelector("#making_story_title_step3");a.className="making_story_title_step",n.src=e[0]}else if(2===i){s.textContent="그림을 만들고 있어요.";let t=document.querySelector("#making_story_title_step2");t.className+=" current_step",n.src=e[1]}else if(3===i){s.textContent="Pdf 파일을 만들고 있어요.";let t=document.querySelector("#making_story_title_step3");t.className+=" current_step",n.src=e[2]}}}.bind(this),i.onclose=function(){console.log("서버 웹소켓 연결 종료")},i.onerror=function(t){console.log(t)}}async prepareBook(t,e){const i=new Blob([t],{type:"application/pdf"}),s=URL.createObjectURL(i);if(e){const t=document.createElement("a");t.href=s,t.setAttribute("download","book.pdf"),document.body.appendChild(t),t.click()}const n=await this.convertPdfToImages(s);(0,u.Z)(this,wt,n),(0,l.Z)(this,Wt,jt).call(this),this.endLoadingMakingBook(),(0,d.Z)(this,yt).zoomCameraToLook(),this.stage="READ_BOOK",(0,d.Z)(this,At).createBookCover(n)}async convertPdfToImages(t){const e=await i.e(912).then(i.t.bind(i,3912,23)),s=await i.e(3).then(i.t.bind(i,8003,23));s.GlobalWorkerOptions.workerSrc=e;const n=await s.getDocument(t).promise,a=n.numPages,o=[];for(let i=1;i<=a;i++){const t=await n.getPage(i),e=3,s=t.getViewport({scale:e}),a=document.createElement("canvas"),r=a.getContext("2d");a.width=s.width,a.height=s.height,await t.render({canvasContext:r,viewport:s}).promise;const c=a.toDataURL("image/jpeg");o.push(c);let h="";const l=await t.getTextContent();l.items.forEach((t=>{h+=t.str+" "})),this.extractedTexts.push(h)}return console.log(this.extractedTexts),(0,d.Z)(this,At).extractedTexts=this.extractedTexts,o}async getTitles(){this.fetchGetTitles(),await(0,d.Z)(this,At).transitToMakeStoryTwo()}async makeStory(){const t=document.querySelectorAll("#titleSelected")[1].innerText;t&&(this.fetchGetBook(t),this.beginLoadingMakingStory(),(0,d.Z)(this,At).removeMakeStoryLayout())}removeAura(){(0,d.Z)(this,bt).remove((0,d.Z)(this,kt))}createAuraTexture(){const t=document.createElement("canvas");t.width=128,t.height=128;const e=t.getContext("2d"),i=e.createRadialGradient(t.width/2,t.height/2,0,t.width/2,t.height/2,t.width/2);return i.addColorStop(0,"rgba(128, 0, 255, 1)"),i.addColorStop(.4,"rgba(128, 0, 255, 0.6)"),i.addColorStop(1,"rgba(128, 0, 255, 0)"),e.fillStyle=i,e.fillRect(0,0,t.width,t.height),new Z.ROQ(t)}addAura(){const t=this.createAuraTexture(),e=new Z.xeV({map:t,color:16777215,transparent:!0,blending:Z.WMw}),i=new Z.jyi(e);(0,u.Z)(this,kt,i),i.scale.set(5,5,5),(0,d.Z)(this,bt).add(i),i.position.set(-1,0,0);const s=t=>{requestAnimationFrame(s);const i=(Math.sin(.001*t)+1)/2;e.opacity=2*i,(0,d.Z)(this,ut).render((0,d.Z)(this,lt),(0,d.Z)(this,gt))};s(2e3)}resize(){const t=(0,d.Z)(this,Zt).clientWidth,e=window.innerHeight;(0,d.Z)(this,gt).aspect=t/e,(0,d.Z)(this,gt).updateProjectionMatrix(),(0,d.Z)(this,ut).setSize(t,e),(0,d.Z)(this,mt)?.setSize(t,e)}render(){(0,d.Z)(this,ut).render((0,d.Z)(this,lt),(0,d.Z)(this,gt)),requestAnimationFrame(this.render.bind(this))}}function Lt(t){t.position.set(2.06,2.55,5.98),t.rotation.set(-.404,.307,.128),t.rotation.isEuler=!0,t.updateProjectionMatrix(),(0,u.Z)(this,gt,t)}function Tt(){const t=new Z.cek(16770713);t.intensity=1,t.distance=15,t.decay=1,t.position.set(1,4,0),(0,u.Z)(this,ft,t),(0,d.Z)(this,lt).add((0,d.Z)(this,ft));const e=new Z.Mig(4210752,1);(0,u.Z)(this,Pt,e),(0,d.Z)(this,lt).add((0,d.Z)(this,Pt))}function Et(){(0,u.Z)(this,ht,new g.z((0,d.Z)(this,gt),(0,d.Z)(this,ut).domElement)),(0,d.Z)(this,ht).maxPolarAngle=this.maxPolarAngle,(0,d.Z)(this,ht).minDistance=this.minDistance,(0,d.Z)(this,ht).maxDistance=this.maxDistance,(0,d.Z)(this,ht).minAzimuthAngle=this.minAzimuthAngle,(0,d.Z)(this,ht).maxAzimuthAngle=this.maxAzimuthAngle,(0,d.Z)(this,ht).update()}function jt(){(0,d.Z)(this,ht).enabled=!1}function Ot(){(0,d.Z)(this,ht).enabled=!0}async function Rt(){const t=new Z.Tme,e=new at((0,d.Z)(this,lt),(0,d.Z)(this,gt),(0,d.Z)(this,mt),(0,d.Z)(this,dt),(0,d.Z)(this,ut));(0,u.Z)(this,At,e);const i=await e.loadBook();(0,u.Z)(this,bt,i);const s=new rt((0,d.Z)(this,dt)),n=await s.loadSpace();t.add(n),(0,d.Z)(this,lt).add(t),(0,l.Z)(this,Bt,Tt).call(this);const a=new D((0,d.Z)(this,lt),(0,d.Z)(this,gt),(0,d.Z)(this,ut),(0,d.Z)(this,mt));(0,u.Z)(this,yt,a),p.dispatch("setInitCompleted",!0)}var Ft=i(7139);const Dt={id:"cssObjects"},Nt={class:"page",id:"pageL"},qt=(0,n._)("div",{class:"input"},[(0,n.Uk)(" 이야기 주인공의 이름은? "),(0,n._)("input",{id:"mainCharacter",placeholder:"이름을 입력해주세요!"})],-1),zt={class:"input"},Qt={id:"genre"},Xt=["value"],Ut=(0,n._)("div",{class:"next-page",style:{"text-align":"right",width:"100%"}},[(0,n._)("p",null,"다음으로 이동 ->")],-1),Vt={class:"page dot center",id:"loading"},Gt=(0,n._)("p",null,"잠시만 기다려 주세요!",-1),Ht=["src"],Kt=(0,n.uE)('<div class="page" id="pageR"><div><h1>당신의 이야기를 만들어 주세요!</h1><h2>이야기 주인공의 이름과 주제를 선택해 주세요.</h2></div></div><div class="page" id="pageR2"><p>주제를 골라 주세요!</p><div id="titleDesc" class="title-card"></div><div> 선택된 이야기 <div id="titleSelected" class="title-card-border title-card"></div></div></div><div class="page" id="cards"><div id="cardsTitles"></div><div class="next-page2" style="text-align:right;width:100%;"><p>다음으로 이동 -&gt;</p></div></div><div id="card" class="card"><p class="mt-2 text-gray-600"></p></div><div id="ttsR"><button id="ttsBtnR"><i class="fas fa-volume-up fa-4x"></i></button></div><div id="ttsL"><button id="ttsBtnL"><i class="fas fa-volume-up fa-4x"></i></button></div><div id="arrow-start" class="arrow"><div class="arrow-tail"></div><div class="arrow-head"></div></div><div id="arrow-load" class="arrow"><div class="arrow-tail"></div><div class="arrow-head"></div></div><div class="hover_frame" id="desk_frame_front"></div><div class="hover_frame" id="desk_frame_top"></div><div id="start"><div id="circle"></div><h1 class="intro_text">이야기 만들기</h1></div><div class="hover_frame" id="bookshelf_frame_front"></div><div class="hover_frame" id="bookshelf_frame_side"></div><div id="load"><div id="circle"></div><h1 class="intro_text">이야기 불러오기</h1><input type="file" id="pdfUpload" accept=".pdf" style="display:none;"></div><div id="making_story_title"><div id="making_story_title_text"><h1>잠시만 기다려 주세요! . . . 최대 3분이 소요 됩니다.</h1></div><div id="making_story_title_steps"><div id="making_story_title_step1" class="making_story_title_step"> 1. 이야기 생성 </div><div class="making_story_title_step">-&gt;</div><div id="making_story_title_step2" class="making_story_title_step"> 2. 그림 생성 </div><div class="making_story_title_step">-&gt;</div><div id="making_story_title_step3" class="making_story_title_step"> 3. pdf 생성 </div></div><img id="making_story_img" style="height:25%;width:25%;" src="story.gif"><div id="making_story_title_sub_text" class="dot"><h1>이야기를 만들고 있어요!</h1></div></div>',15);var Yt={__name:"cssObject",setup(t){const e=["외국 전래동화","해외 전래동화","아무거나","모험","동물","도전","우정"];return(t,s)=>((0,n.wg)(),(0,n.iD)("div",Dt,[(0,n._)("div",Nt,[qt,(0,n._)("div",zt,[(0,n.Uk)(" 이야기의 장르를 선택해 주세요! "),(0,n._)("select",Qt,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(e,(t=>(0,n._)("option",{key:t,value:t},(0,Ft.zw)(t),9,Xt))),64))])]),Ut]),(0,n._)("div",Vt,[Gt,(0,n._)("img",{src:i(9163)},null,8,Ht)]),Kt]))}};const Jt=Yt;var $t=Jt,te=i(4878);const ee={id:"main"},ie=(0,n._)("div",{id:"three"},null,-1);var se={__name:"Main",setup(t){let e=null;async function i(){await e.goHome()}return(0,n.bv)((()=>{e=new Ct,e.init()})),(t,e)=>((0,n.wg)(),(0,n.iD)("div",ee,[ie,(0,n.Wm)($t),(0,n.Wm)(te.T,{class:"home-btn","prepend-icon":"mdi-home",size:"x-large",onClick:e[0]||(e[0]=t=>i())},{default:(0,n.w5)((()=>[(0,n.Uk)(" 홈 ")])),_:1})]))}};const ne=se;var ae=ne;const oe=t=>((0,n.dD)("data-v-79af9180"),t=t(),(0,n.Cn)(),t),re={class:"container"},ce=["src"],he=oe((()=>(0,n._)("div",{class:"title"},[(0,n._)("div",{style:{"text-align":"center"}},"Fairy Tale"),(0,n._)("div",{class:"sub-title"},"인공지능 동화 생성")],-1))),le=oe((()=>(0,n._)("div",{class:"content dot"},"불러오는 중...",-1))),de=oe((()=>(0,n._)("div",null,null,-1)));function ue(t,e){return(0,n.wg)(),(0,n.iD)("div",re,[(0,n._)("img",{class:"background",src:i(3107)},null,8,ce),he,le,de])}var Ze=i(89);const me={},pe=(0,Ze.Z)(me,[["render",ue],["__scopeId","data-v-79af9180"]]);var ve=pe,ge={name:"App",components:{Main:ae,Loading:ve},setup(){const t=(0,m.oR)(),e=(0,n.Fl)((()=>t.getters.initCompleted));return{isLoaded:e}}};const we=(0,Ze.Z)(ge,[["render",o]]);var Ae=we,ye=(i(9773),i(7314)),be=(0,ye.Rd)();async function ke(){const t=await i.e(461).then(i.t.bind(i,3657,23));t.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}ke(),(0,s.ri)(Ae).use(be).use(p).mount("#app")},3107:function(t,e,i){t.exports=i.p+"img/background.b1510a79.jpg"},5768:function(t){t.exports="data:image/jpeg;base64,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"},9163:function(t,e,i){t.exports=i.p+"img/loading.3d555b18.gif"}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var a=e[s]={exports:{}};return t[s](a,a.exports,i),a.exports}i.m=t,function(){var t=[];i.O=function(e,s,n,a){if(!s){var o=1/0;for(l=0;l<t.length;l++){s=t[l][0],n=t[l][1],a=t[l][2];for(var r=!0,c=0;c<s.length;c++)(!1&a||o>=a)&&Object.keys(i.O).every((function(t){return i.O[t](s[c])}))?s.splice(c--,1):(r=!1,a<o&&(o=a));if(r){t.splice(l--,1);var h=n();void 0!==h&&(e=h)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[s,n,a]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};i.t=function(s,n){if(1&n&&(s=this(s)),8&n)return s;if("object"===typeof s&&s){if(4&n&&s.__esModule)return s;if(16&n&&"function"===typeof s.then)return s}var a=Object.create(null);i.r(a);var o={};t=t||[null,e({}),e([]),e(e)];for(var r=2&n&&s;"object"==typeof r&&!~t.indexOf(r);r=e(r))Object.getOwnPropertyNames(r).forEach((function(t){o[t]=function(){return s[t]}}));return o["default"]=function(){return s},i.d(a,o),a}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.f={},i.e=function(t){return Promise.all(Object.keys(i.f).reduce((function(e,s){return i.f[s](t,e),e}),[]))}}(),function(){i.u=function(t){return"js/"+(461===t?"webfontloader":t)+"."+{3:"d640b699",461:"214eac89",912:"8997e6f7"}[t]+".js"}}(),function(){i.miniCssF=function(t){}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="fairy-tale-book:";i.l=function(s,n,a,o){if(t[s])t[s].push(n);else{var r,c;if(void 0!==a)for(var h=document.getElementsByTagName("script"),l=0;l<h.length;l++){var d=h[l];if(d.getAttribute("src")==s||d.getAttribute("data-webpack")==e+a){r=d;break}}r||(c=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,i.nc&&r.setAttribute("nonce",i.nc),r.setAttribute("data-webpack",e+a),r.src=s),t[s]=[n];var u=function(e,i){r.onerror=r.onload=null,clearTimeout(Z);var n=t[s];if(delete t[s],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((function(t){return t(i)})),e)return e(i)},Z=setTimeout(u.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=u.bind(null,r.onerror),r.onload=u.bind(null,r.onload),c&&document.head.appendChild(r)}}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){i.p="/"}(),function(){var t={143:0};i.f.j=function(e,s){var n=i.o(t,e)?t[e]:void 0;if(0!==n)if(n)s.push(n[2]);else{var a=new Promise((function(i,s){n=t[e]=[i,s]}));s.push(n[2]=a);var o=i.p+i.u(e),r=new Error,c=function(s){if(i.o(t,e)&&(n=t[e],0!==n&&(t[e]=void 0),n)){var a=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.src;r.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",r.name="ChunkLoadError",r.type=a,r.request=o,n[1](r)}};i.l(o,c,"chunk-"+e,e)}},i.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,a,o=s[0],r=s[1],c=s[2],h=0;if(o.some((function(e){return 0!==t[e]}))){for(n in r)i.o(r,n)&&(i.m[n]=r[n]);if(c)var l=c(i)}for(e&&e(s);h<o.length;h++)a=o[h],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return i.O(l)},s=self["webpackChunkfairy_tale_book"]=self["webpackChunkfairy_tale_book"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(5396)}));s=i.O(s)})();
//# sourceMappingURL=app.5c0308b0.js.map